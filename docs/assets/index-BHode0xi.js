import{g as ge}from"./gsap-C8pce-KX.js";import{C as rt,r as Gt}from"./chartjs-BR_H7_9u.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();const He="phonicsquest_v2",Ce={xp:0,level:1,hearts:5,streak:0,bestStreak:0,lastPlayDate:null,dailyGoal:10,dailyDone:0,theme:"default",difficulty:1,sfxEnabled:!0,autoplay:!0,voiceSpeed:.8,parentPin:null,wordStats:{},groupMastery:{},currentMode:"blend",currentGroup:"short-a",wordHistory:[],mascotName:"Ollie"};class Rt{constructor(){this._state=this._load(),this._listeners=new Map}_load(){try{const e=localStorage.getItem(He);if(e){const t=JSON.parse(e);return{...Ce,...t}}}catch{}return{...Ce}}_save(){try{localStorage.setItem(He,JSON.stringify(this._state))}catch{}}get(e){return this._state[e]}set(e,t){this._state[e]=t,this._notify(e,t),this._save()}patch(e){Object.assign(this._state,e);for(const[t,r]of Object.entries(e))this._notify(t,r);this._save()}subscribe(e,t){return this._listeners.has(e)||this._listeners.set(e,new Set),this._listeners.get(e).add(t),()=>{var r;return(r=this._listeners.get(e))==null?void 0:r.delete(t)}}_notify(e,t){var r,s;(r=this._listeners.get(e))==null||r.forEach(a=>a(t,e)),(s=this._listeners.get("*"))==null||s.forEach(a=>a(t,e))}reset(){const e=this._state.parentPin;this._state={...Ce,parentPin:e},this._save(),this._notify("*",this._state)}snapshot(){return{...this._state}}recordWordAttempt(e,t){const r={...this._state.wordStats},s=r[e]??{attempts:0,correct:0};r[e]={attempts:s.attempts+1,correct:s.correct+(t?1:0),lastSeen:new Date().toISOString()},this.set("wordStats",r)}addWordHistory(e){const t=[e,...this._state.wordHistory].slice(0,100);this.set("wordHistory",t)}updateGroupMastery(e,t){const r={...this._state.groupMastery,[e]:t};this.set("groupMastery",r)}checkDailyReset(){const e=new Date().toDateString();this._state.lastPlayDate!==e&&this.patch({dailyDone:0,lastPlayDate:e})}incrementDailyDone(){this.set("dailyDone",this._state.dailyDone+1)}}const p=new Rt,st="/blending/",qe=`${st}audio/phonemes/`,Wt=`${st}audio/sfx/`,Ue={b:"b",c:"c",d:"d",f:"f",g:"g",h:"h",j:"j",k:"k",l:"l",m:"m",n:"n",p:"p",r:"r",s:"s",t:"t",v:"v",w:"w",x:"x",y:"y",z:"z",sh:"sh",ch:"ch",th:"th",ng:"ng",a:"a",e:"e",i:"i",o:"o",u:"u",long_a:"long_a",long_e:"long_e",long_i:"long_i",long_o:"long_o",long_u:"long_u",oi:"oi",ow:"ow",aw:"aw"},Dt={b:"buh",c:"kuh",d:"duh",f:"fff",g:"guh",h:"huh",j:"juh",k:"kuh",l:"lll",m:"mmm",n:"nnn",p:"puh",r:"rrr",s:"sss",t:"tuh",v:"vvv",w:"wuh",x:"ks",y:"yuh",z:"zzz",sh:"shh",ch:"chuh",th:"thuh",ng:"ing",a:"ah",e:"eh",i:"ih",o:"aw",u:"uh",long_a:"ay",long_e:"ee",long_i:"eye",long_o:"oh",long_u:"you",oi:"oy",ow:"ow",aw:"aw"};class Ot{constructor(){this._ctx=null,this._buffers=new Map,this._elements=new Map,this._ttsVoice=null,this._initTTS()}_ensureCtx(){return this._ctx||(this._ctx=new(window.AudioContext||window.webkitAudioContext)),this._ctx.state==="suspended"&&this._ctx.resume().catch(()=>{}),this._ctx}_initTTS(){const e=()=>{const t=speechSynthesis.getVoices(),r=["Google US English","Microsoft Aria Online","Karen","Samantha","Daniel"];for(const s of r){const a=t.find(n=>n.name.includes(s));if(a){this._ttsVoice=a;return}}this._ttsVoice=t.find(s=>s.lang==="en-US")??t[0]??null};speechSynthesis.getVoices().length?e():speechSynthesis.addEventListener("voiceschanged",e,{once:!0})}async speakPhoneme(e,t){if(!p.get("sfxEnabled"))return;let r=e.toLowerCase();if(t==="lv"&&(r=`long_${e.toLowerCase().replace("ee","e").replace("ay","a")}`),t!=="se"){if(t==="dp")return r={oy:"oi",ou:"ow",au:"aw"}[e.toLowerCase()]??e.toLowerCase(),this._playPhonemeAudio(r);if(t==="sf")return this._speak(e.replace(/^-/,""),.9);if(t==="bl"&&e.length===2){await this._playPhonemeAudio(e[0]),await this._delay(80),await this._playPhonemeAudio(e[1]);return}return this._playPhonemeAudio(r)}}async _playPhonemeAudio(e){if(this._buffers.has(e))return this._playBuffer(this._buffers.get(e));const t=Ue[e];if(t)try{const s=await this._loadBuffer(`${qe}${t}.mp3`);return this._buffers.set(e,s),this._playBuffer(s)}catch{}const r=Dt[e]??e;return this._speak(r,.9)}speakWord(e){return p.get("sfxEnabled")?this._speak(e,p.get("voiceSpeed")??.8):Promise.resolve()}async revealPhonemes(e,t){for(let r=0;r<e.graphemes.length;r++){const s=e.graphemes[r],a=e.types[r];t==null||t(r),await this.speakPhoneme(s,a),await this._delay(350)}await this._delay(200),await this.speakWord(e.word)}async playSfx(e){if(!p.get("sfxEnabled"))return;const t=this._ensureCtx();switch(e){case"correct":this._playTone(t,880,.15,"sine"),await this._delay(80),this._playTone(t,1108,.12,"sine");break;case"wrong":this._playTone(t,200,.2,"sawtooth");break;case"pop":this._playTone(t,660,.08,"sine",.05);break;case"levelUp":for(const[r,s]of[[523,0],[659,.1],[784,.2],[1047,.3]])setTimeout(()=>this._playTone(t,r,.15,"sine"),s*1e3);break;case"spin":this._playTone(t,440,.05,"triangle",.08);break;case"reveal":try{const r=await this._loadBuffer(`${Wt}reveal-sound.mp3`);this._playBuffer(r,.4)}catch{this._playTone(t,523,.1,"sine")}break}}_speak(e,t=.8){return new Promise(r=>{if(!window.speechSynthesis){r();return}speechSynthesis.cancel();const s=new SpeechSynthesisUtterance(e);s.rate=t,s.pitch=1.1,s.volume=1,this._ttsVoice&&(s.voice=this._ttsVoice);let a=!1;const n=()=>{a||(a=!0,clearTimeout(d),clearInterval(h),r())};s.onend=n,s.onerror=n;const l=Math.max(1500,Math.ceil(e.length*80/t))+800,d=setTimeout(n,l),h=setInterval(()=>{if(a){clearInterval(h);return}window.speechSynthesis.paused&&window.speechSynthesis.resume()},250);speechSynthesis.speak(s)})}async _loadBuffer(e){const t=this._ensureCtx(),r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch ${e}`);const s=await r.arrayBuffer();return t.decodeAudioData(s)}_playBuffer(e,t=.8){return new Promise(r=>{const s=this._ensureCtx(),a=s.createBufferSource(),n=s.createGain();a.buffer=e,n.gain.value=t,a.connect(n),n.connect(s.destination),a.onended=()=>r(),a.start(0)})}_playTone(e,t,r=.1,s="sine",a=.15){const n=e.createOscillator(),l=e.createGain();n.type=s,n.frequency.value=t,l.gain.setValueAtTime(r,e.currentTime),l.gain.exponentialRampToValueAtTime(.001,e.currentTime+a),n.connect(l),l.connect(e.destination),n.start(e.currentTime),n.stop(e.currentTime+a)}_delay(e){return new Promise(t=>setTimeout(t,e))}preloadWord(e){for(let t=0;t<e.graphemes.length;t++){const r=e.graphemes[t],s=e.types[t];let a=r.toLowerCase();if(s==="lv"&&(a=`long_${r.toLowerCase()}`),s==="dp"&&(a={oy:"oi",ou:"ow",au:"aw"}[r.toLowerCase()]??r.toLowerCase()),s==="se"||this._buffers.has(a))continue;const n=Ue[a];n&&this._loadBuffer(`${qe}${n}.mp3`).then(l=>this._buffers.set(a,l)).catch(()=>{})}}}const T=new Ot,Ft=.8,ze=6,je=[{id:"stage-1",name:"Starter Sounds",description:"Short vowels A, E, I",icon:"ğŸŒ±",groups:["short-a","short-e","short-i"],level:1,requiredMastery:0},{id:"stage-2",name:"More Vowels",description:"Short vowels O and U",icon:"ğŸŒ¿",groups:["short-o","short-u"],level:1,requiredMastery:.7,prerequisite:"stage-1"},{id:"stage-3",name:"Magic E",description:"Long vowels A and I with silent e",icon:"âœ¨",groups:["long-a","long-i"],level:2,requiredMastery:.75,prerequisite:"stage-2"},{id:"stage-4",name:"More Magic E",description:"Long vowels E, O and U",icon:"ğŸŒŸ",groups:["long-e","long-o","long-u"],level:2,requiredMastery:.75,prerequisite:"stage-3"},{id:"stage-5",name:"Team Sounds",description:"Digraphs: sh, ch, th, wh",icon:"ğŸ¤",groups:["digraphs"],level:2,requiredMastery:.7,prerequisite:"stage-2"},{id:"stage-6",name:"Sound Blends",description:"Consonant blends: fl, bl, tr, cr, and more",icon:"ğŸš€",groups:["blends"],level:3,requiredMastery:.75,prerequisite:"stage-5"}];function Nt(o){const e=[];for(const t of je){if(!t.prerequisite){e.push(t.id);continue}const r=je.find(a=>a.id===t.prerequisite);if(!r||!e.includes(r.id))continue;Ht(r,o)>=t.requiredMastery&&e.push(t.id)}return e}function Ht(o,e){if(!o.groups.length)return 0;const t=o.groups.map(r=>e[r]??0);return t.reduce((r,s)=>r+s,0)/t.length}const K={correct:10,correct_fast:15,streak_5:20,streak_10:40,daily_goal:50,new_word:5},Z=[0,100,250,450,700,1e3,1400,1900,2500,3200];function Ye(o){let e=1;for(let a=0;a<Z.length&&o>=Z[a];a++)e=a+1;const t=Z[e-1]??0,r=Z[e]??Z[Z.length-1],s=r>t?(o-t)/(r-t):1;return{level:Math.min(e,Z.length),progress:s,nextXP:r}}class qt{constructor(){this._sessionCorrect=0,this._sessionWrong=0}init(){p.checkDailyReset(),this._checkStreak(),this._updateUI()}_checkStreak(){const e=new Date().toDateString(),t=p.get("lastPlayDate");if(!t||t===e)return;const r=new Date(Date.now()-864e5).toDateString();t!==r&&p.set("streak",0)}recordCorrect(e=5e3,t=!1){this._sessionCorrect++;const r=[];let s=0;e<3e3?(s+=K.correct_fast,r.push("Quick answer!")):(s+=K.correct,r.push("Correct!")),t&&(s+=K.new_word,r.push("New word!"));const a=this._sessionCorrect;a===5?(s+=K.streak_5,r.push("5 in a row!")):a===10&&(s+=K.streak_10,r.push("10 in a row!"));const n=p.get("xp")+s,l=p.get("level"),{level:d,progress:h}=Ye(n);p.patch({xp:n,level:d}),p.incrementDailyDone();const v=p.get("dailyDone"),b=p.get("dailyGoal");v===b&&(s+=K.daily_goal,p.set("xp",p.get("xp")+K.daily_goal),r.push("Daily goal complete!"));const y=new Date().toDateString();if(p.get("lastPlayDate")!==y){p.patch({lastPlayDate:y,streak:p.get("streak")+1});const S=p.get("streak");S>p.get("bestStreak")&&p.set("bestStreak",S)}return this._updateUI(),{xpEarned:s,reasons:r,levelUp:d>l,newLevel:d,progress:h,dailyComplete:v===b}}recordWrong(){this._sessionCorrect=0,this._sessionWrong++;let e=p.get("hearts");return e=Math.max(0,e-1),p.set("hearts",e),this._updateUI(),{heartsLeft:e,gameOver:e<=0}}refillHearts(){p.set("hearts",5),this._updateUI()}getSessionStats(){return{correct:this._sessionCorrect,wrong:this._sessionWrong,total:this._sessionCorrect+this._sessionWrong,accuracy:this._sessionCorrect+this._sessionWrong>0?this._sessionCorrect/(this._sessionCorrect+this._sessionWrong):0}}resetSession(){this._sessionCorrect=0,this._sessionWrong=0}_updateUI(){const e=document.getElementById("hearts-val"),t=document.getElementById("streak-val"),r=document.getElementById("xp-val"),s=document.getElementById("level-val"),a=document.getElementById("level-next-val"),n=document.getElementById("level-bar-fill"),l=document.getElementById("goal-fill"),d=document.getElementById("goal-done"),h=document.getElementById("goal-total");e&&(e.textContent=p.get("hearts")),t&&(t.textContent=p.get("streak")),r&&(r.textContent=p.get("xp"));const{level:v,progress:b}=Ye(p.get("xp"));s&&(s.textContent=v),a&&(a.textContent=v+1),n&&(n.style.width=`${Math.round(b*100)}%`);const y=p.get("dailyDone"),S=p.get("dailyGoal");l&&(l.style.width=`${Math.min(100,Math.round(y/S*100))}%`),d&&(d.textContent=y),h&&(h.textContent=S)}}const se=new qt,Ut={a:{sv:"Äƒ",lv:"Ä"},e:{sv:"Ä•",lv:"Ä“"},i:{sv:"Ä­",lv:"Ä«"},o:{sv:"Å",lv:"Å"},u:{sv:"Å­",lv:"Å«"}},z={"short-a":{label:"Short A",color:"#ef4444",bg:"#fee2e2",icon:"ğŸ",audioFile:"a"},"short-e":{label:"Short E",color:"#f97316",bg:"#ffedd5",icon:"ğŸ¥š",audioFile:"e"},"short-i":{label:"Short I",color:"#eab308",bg:"#fef9c3",icon:"ğŸŸ",audioFile:"i"},"short-o":{label:"Short O",color:"#22c55e",bg:"#dcfce7",icon:"ğŸ™",audioFile:"o"},"short-u":{label:"Short U",color:"#3b82f6",bg:"#dbeafe",icon:"â˜‚ï¸",audioFile:"u"},"long-a":{label:"Long A",color:"#a855f7",bg:"#f3e8ff",icon:"ğŸ‚",audioFile:"long_a"},"long-e":{label:"Long E",color:"#ec4899",bg:"#fce7f3",icon:"ğŸ¦",audioFile:"long_e"},"long-i":{label:"Long I",color:"#14b8a6",bg:"#ccfbf1",icon:"ğŸª",audioFile:"long_i"},"long-o":{label:"Long O",color:"#f59e0b",bg:"#fef3c7",icon:"ğŸ ",audioFile:"long_o"},"long-u":{label:"Long U",color:"#6366f1",bg:"#e0e7ff",icon:"ğŸµ",audioFile:"long_u"},digraphs:{label:"Digraphs",color:"#8b5cf6",bg:"#ede9fe",icon:"â­",audioFile:null},blends:{label:"Blends",color:"#f97316",bg:"#ffedd5",icon:"ğŸš€",audioFile:null},diphthongs:{label:"Diphthongs",color:"#0d9488",bg:"#ccfbf1",icon:"ğŸŒ€",audioFile:null},"struct-cvc":{label:"CVC",color:"#64748b",bg:"#f1f5f9",icon:"ğŸ”¤",audioFile:null},"struct-ccvc":{label:"CCVC",color:"#0ea5e9",bg:"#e0f2fe",icon:"ğŸ“˜",audioFile:null},"struct-cvcc":{label:"CVCC",color:"#7c3aed",bg:"#ede9fe",icon:"ğŸ“—",audioFile:null},"struct-ccvcc":{label:"CCVCC",color:"#db2777",bg:"#fce7f3",icon:"ğŸ“™",audioFile:null},"suffix-ing":{label:"-ing Words",color:"#059669",bg:"#d1fae5",icon:"ğŸƒ",audioFile:null},"suffix-ed":{label:"-ed Words",color:"#d97706",bg:"#fef3c7",icon:"âœ…",audioFile:null},"suffix-er":{label:"-er Words",color:"#dc2626",bg:"#fee2e2",icon:"ğŸ“ˆ",audioFile:null},"suffix-est":{label:"-est Words",color:"#7c3aed",bg:"#f3e8ff",icon:"ğŸ†",audioFile:null}},B=[{id:"cat",word:"cat",graphemes:["c","a","t"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"ğŸ±"},{id:"hat",word:"hat",graphemes:["h","a","t"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"ğŸ©"},{id:"bat",word:"bat",graphemes:["b","a","t"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"ğŸ¦‡"},{id:"mat",word:"mat",graphemes:["m","a","t"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"ğŸ§˜"},{id:"sat",word:"sat",graphemes:["s","a","t"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"ğŸ’º"},{id:"rat",word:"rat",graphemes:["r","a","t"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"ğŸ€"},{id:"can",word:"can",graphemes:["c","a","n"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"ğŸ¥«"},{id:"fan",word:"fan",graphemes:["f","a","n"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"ğŸ’¨"},{id:"man",word:"man",graphemes:["m","a","n"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"ğŸ‘¨"},{id:"pan",word:"pan",graphemes:["p","a","n"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"ğŸ³"},{id:"ran",word:"ran",graphemes:["r","a","n"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"ğŸƒ"},{id:"van",word:"van",graphemes:["v","a","n"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"ğŸš"},{id:"bag",word:"bag",graphemes:["b","a","g"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"ğŸ‘œ"},{id:"tag",word:"tag",graphemes:["t","a","g"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"ğŸ·ï¸"},{id:"cap",word:"cap",graphemes:["c","a","p"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"ğŸ§¢"},{id:"map",word:"map",graphemes:["m","a","p"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"ğŸ—ºï¸"},{id:"tap",word:"tap",graphemes:["t","a","p"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"ğŸš¿"},{id:"dad",word:"dad",graphemes:["d","a","d"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"ğŸ‘¨â€ğŸ‘§"},{id:"had",word:"had",graphemes:["h","a","d"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"âœ‹"},{id:"sad",word:"sad",graphemes:["s","a","d"],types:["c","sv","c"],pattern:"CVC",group:"short-a",level:1,emoji:"ğŸ˜¢"},{id:"bed",word:"bed",graphemes:["b","e","d"],types:["c","sv","c"],pattern:"CVC",group:"short-e",level:1,emoji:"ğŸ›ï¸"},{id:"fed",word:"fed",graphemes:["f","e","d"],types:["c","sv","c"],pattern:"CVC",group:"short-e",level:1,emoji:"ğŸ½ï¸"},{id:"red",word:"red",graphemes:["r","e","d"],types:["c","sv","c"],pattern:"CVC",group:"short-e",level:1,emoji:"ğŸ”´"},{id:"beg",word:"beg",graphemes:["b","e","g"],types:["c","sv","c"],pattern:"CVC",group:"short-e",level:1,emoji:"ğŸ™"},{id:"leg",word:"leg",graphemes:["l","e","g"],types:["c","sv","c"],pattern:"CVC",group:"short-e",level:1,emoji:"ğŸ¦µ"},{id:"peg",word:"peg",graphemes:["p","e","g"],types:["c","sv","c"],pattern:"CVC",group:"short-e",level:1,emoji:"ğŸ“Œ"},{id:"den",word:"den",graphemes:["d","e","n"],types:["c","sv","c"],pattern:"CVC",group:"short-e",level:1,emoji:"ğŸ¦Š"},{id:"hen",word:"hen",graphemes:["h","e","n"],types:["c","sv","c"],pattern:"CVC",group:"short-e",level:1,emoji:"ğŸ”"},{id:"men",word:"men",graphemes:["m","e","n"],types:["c","sv","c"],pattern:"CVC",group:"short-e",level:1,emoji:"ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦"},{id:"pen",word:"pen",graphemes:["p","e","n"],types:["c","sv","c"],pattern:"CVC",group:"short-e",level:1,emoji:"âœ’ï¸"},{id:"ten",word:"ten",graphemes:["t","e","n"],types:["c","sv","c"],pattern:"CVC",group:"short-e",level:1,emoji:"ğŸ”Ÿ"},{id:"bet",word:"bet",graphemes:["b","e","t"],types:["c","sv","c"],pattern:"CVC",group:"short-e",level:1,emoji:"ğŸ²"},{id:"get",word:"get",graphemes:["g","e","t"],types:["c","sv","c"],pattern:"CVC",group:"short-e",level:1,emoji:"ğŸ¤²"},{id:"jet",word:"jet",graphemes:["j","e","t"],types:["c","sv","c"],pattern:"CVC",group:"short-e",level:1,emoji:"âœˆï¸"},{id:"let",word:"let",graphemes:["l","e","t"],types:["c","sv","c"],pattern:"CVC",group:"short-e",level:1,emoji:"ğŸ¤"},{id:"net",word:"net",graphemes:["n","e","t"],types:["c","sv","c"],pattern:"CVC",group:"short-e",level:1,emoji:"ğŸ¾"},{id:"pet",word:"pet",graphemes:["p","e","t"],types:["c","sv","c"],pattern:"CVC",group:"short-e",level:1,emoji:"ğŸ•"},{id:"set",word:"set",graphemes:["s","e","t"],types:["c","sv","c"],pattern:"CVC",group:"short-e",level:1,emoji:"ğŸ¯"},{id:"wet",word:"wet",graphemes:["w","e","t"],types:["c","sv","c"],pattern:"CVC",group:"short-e",level:1,emoji:"ğŸ’§"},{id:"big",word:"big",graphemes:["b","i","g"],types:["c","sv","c"],pattern:"CVC",group:"short-i",level:1,emoji:"ğŸ˜"},{id:"dig",word:"dig",graphemes:["d","i","g"],types:["c","sv","c"],pattern:"CVC",group:"short-i",level:1,emoji:"â›ï¸"},{id:"fig",word:"fig",graphemes:["f","i","g"],types:["c","sv","c"],pattern:"CVC",group:"short-i",level:1,emoji:"ğŸ‡"},{id:"jig",word:"jig",graphemes:["j","i","g"],types:["c","sv","c"],pattern:"CVC",group:"short-i",level:1,emoji:"ğŸ’ƒ"},{id:"pig",word:"pig",graphemes:["p","i","g"],types:["c","sv","c"],pattern:"CVC",group:"short-i",level:1,emoji:"ğŸ·"},{id:"wig",word:"wig",graphemes:["w","i","g"],types:["c","sv","c"],pattern:"CVC",group:"short-i",level:1,emoji:"ğŸ‘±"},{id:"bin",word:"bin",graphemes:["b","i","n"],types:["c","sv","c"],pattern:"CVC",group:"short-i",level:1,emoji:"ğŸ—‘ï¸"},{id:"fin",word:"fin",graphemes:["f","i","n"],types:["c","sv","c"],pattern:"CVC",group:"short-i",level:1,emoji:"ğŸ¦ˆ"},{id:"pin",word:"pin",graphemes:["p","i","n"],types:["c","sv","c"],pattern:"CVC",group:"short-i",level:1,emoji:"ğŸ“"},{id:"tin",word:"tin",graphemes:["t","i","n"],types:["c","sv","c"],pattern:"CVC",group:"short-i",level:1,emoji:"ğŸ¥«"},{id:"win",word:"win",graphemes:["w","i","n"],types:["c","sv","c"],pattern:"CVC",group:"short-i",level:1,emoji:"ğŸ†"},{id:"bit",word:"bit",graphemes:["b","i","t"],types:["c","sv","c"],pattern:"CVC",group:"short-i",level:1,emoji:"ğŸª²"},{id:"fit",word:"fit",graphemes:["f","i","t"],types:["c","sv","c"],pattern:"CVC",group:"short-i",level:1,emoji:"ğŸ’ª"},{id:"hit",word:"hit",graphemes:["h","i","t"],types:["c","sv","c"],pattern:"CVC",group:"short-i",level:1,emoji:"ğŸ¯"},{id:"kit",word:"kit",graphemes:["k","i","t"],types:["c","sv","c"],pattern:"CVC",group:"short-i",level:1,emoji:"ğŸ§°"},{id:"pit",word:"pit",graphemes:["p","i","t"],types:["c","sv","c"],pattern:"CVC",group:"short-i",level:1,emoji:"ğŸ”ï¸"},{id:"sit",word:"sit",graphemes:["s","i","t"],types:["c","sv","c"],pattern:"CVC",group:"short-i",level:1,emoji:"ğŸ’º"},{id:"lid",word:"lid",graphemes:["l","i","d"],types:["c","sv","c"],pattern:"CVC",group:"short-i",level:1,emoji:"ğŸ«™"},{id:"lip",word:"lip",graphemes:["l","i","p"],types:["c","sv","c"],pattern:"CVC",group:"short-i",level:1,emoji:"ğŸ’‹"},{id:"dog",word:"dog",graphemes:["d","o","g"],types:["c","sv","c"],pattern:"CVC",group:"short-o",level:1,emoji:"ğŸ¶"},{id:"fog",word:"fog",graphemes:["f","o","g"],types:["c","sv","c"],pattern:"CVC",group:"short-o",level:1,emoji:"ğŸŒ«ï¸"},{id:"hog",word:"hog",graphemes:["h","o","g"],types:["c","sv","c"],pattern:"CVC",group:"short-o",level:1,emoji:"ğŸ—"},{id:"jog",word:"jog",graphemes:["j","o","g"],types:["c","sv","c"],pattern:"CVC",group:"short-o",level:1,emoji:"ğŸƒ"},{id:"log",word:"log",graphemes:["l","o","g"],types:["c","sv","c"],pattern:"CVC",group:"short-o",level:1,emoji:"ğŸªµ"},{id:"cob",word:"cob",graphemes:["c","o","b"],types:["c","sv","c"],pattern:"CVC",group:"short-o",level:1,emoji:"ğŸŒ½"},{id:"mob",word:"mob",graphemes:["m","o","b"],types:["c","sv","c"],pattern:"CVC",group:"short-o",level:1,emoji:"ğŸ‘¥"},{id:"rob",word:"rob",graphemes:["r","o","b"],types:["c","sv","c"],pattern:"CVC",group:"short-o",level:1,emoji:"ğŸ´â€â˜ ï¸"},{id:"cod",word:"cod",graphemes:["c","o","d"],types:["c","sv","c"],pattern:"CVC",group:"short-o",level:1,emoji:"ğŸŸ"},{id:"nod",word:"nod",graphemes:["n","o","d"],types:["c","sv","c"],pattern:"CVC",group:"short-o",level:1,emoji:"ğŸ˜Š"},{id:"rod",word:"rod",graphemes:["r","o","d"],types:["c","sv","c"],pattern:"CVC",group:"short-o",level:1,emoji:"ğŸ£"},{id:"cot",word:"cot",graphemes:["c","o","t"],types:["c","sv","c"],pattern:"CVC",group:"short-o",level:1,emoji:"ğŸ›ï¸"},{id:"dot",word:"dot",graphemes:["d","o","t"],types:["c","sv","c"],pattern:"CVC",group:"short-o",level:1,emoji:"âš«"},{id:"got",word:"got",graphemes:["g","o","t"],types:["c","sv","c"],pattern:"CVC",group:"short-o",level:1,emoji:"ğŸ"},{id:"hot",word:"hot",graphemes:["h","o","t"],types:["c","sv","c"],pattern:"CVC",group:"short-o",level:1,emoji:"ğŸŒ¶ï¸"},{id:"lot",word:"lot",graphemes:["l","o","t"],types:["c","sv","c"],pattern:"CVC",group:"short-o",level:1,emoji:"ğŸ°"},{id:"pot",word:"pot",graphemes:["p","o","t"],types:["c","sv","c"],pattern:"CVC",group:"short-o",level:1,emoji:"ğŸ²"},{id:"box",word:"box",graphemes:["b","o","x"],types:["c","sv","c"],pattern:"CVC",group:"short-o",level:1,emoji:"ğŸ“¦"},{id:"fox",word:"fox",graphemes:["f","o","x"],types:["c","sv","c"],pattern:"CVC",group:"short-o",level:1,emoji:"ğŸ¦Š"},{id:"bug",word:"bug",graphemes:["b","u","g"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"ğŸ›"},{id:"dug",word:"dug",graphemes:["d","u","g"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"â›ï¸"},{id:"hug",word:"hug",graphemes:["h","u","g"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"ğŸ¤—"},{id:"jug",word:"jug",graphemes:["j","u","g"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"ğŸ«—"},{id:"mug",word:"mug",graphemes:["m","u","g"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"â˜•"},{id:"rug",word:"rug",graphemes:["r","u","g"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"ğŸ¡"},{id:"tug",word:"tug",graphemes:["t","u","g"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"ğŸ›¥ï¸"},{id:"bun",word:"bun",graphemes:["b","u","n"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"ğŸ"},{id:"fun",word:"fun",graphemes:["f","u","n"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"ğŸ‰"},{id:"gun",word:"gun",graphemes:["g","u","n"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"ğŸ”«"},{id:"run",word:"run",graphemes:["r","u","n"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"ğŸƒ"},{id:"sun",word:"sun",graphemes:["s","u","n"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"â˜€ï¸"},{id:"but",word:"but",graphemes:["b","u","t"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"â†•ï¸"},{id:"cut",word:"cut",graphemes:["c","u","t"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"âœ‚ï¸"},{id:"gut",word:"gut",graphemes:["g","u","t"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"ğŸ’ª"},{id:"hut",word:"hut",graphemes:["h","u","t"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"ğŸ›–"},{id:"nut",word:"nut",graphemes:["n","u","t"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"ğŸ¥œ"},{id:"rut",word:"rut",graphemes:["r","u","t"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"ğŸ›¤ï¸"},{id:"cub",word:"cub",graphemes:["c","u","b"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"ğŸ»"},{id:"tub",word:"tub",graphemes:["t","u","b"],types:["c","sv","c"],pattern:"CVC",group:"short-u",level:1,emoji:"ğŸ›"},{id:"cake",word:"cake",graphemes:["c","a","k","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-a",level:2,emoji:"ğŸ‚"},{id:"lake",word:"lake",graphemes:["l","a","k","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-a",level:2,emoji:"ğŸï¸"},{id:"make",word:"make",graphemes:["m","a","k","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-a",level:2,emoji:"ğŸ”¨"},{id:"take",word:"take",graphemes:["t","a","k","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-a",level:2,emoji:"ğŸ¤²"},{id:"bake",word:"bake",graphemes:["b","a","k","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-a",level:2,emoji:"ğŸ°"},{id:"came",word:"came",graphemes:["c","a","m","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-a",level:2,emoji:"ğŸ‘‹"},{id:"game",word:"game",graphemes:["g","a","m","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-a",level:2,emoji:"ğŸ®"},{id:"name",word:"name",graphemes:["n","a","m","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-a",level:2,emoji:"ğŸ“›"},{id:"same",word:"same",graphemes:["s","a","m","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-a",level:2,emoji:"ğŸ”"},{id:"tame",word:"tame",graphemes:["t","a","m","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-a",level:2,emoji:"ğŸ¦"},{id:"cape",word:"cape",graphemes:["c","a","p","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-a",level:2,emoji:"ğŸ¦¸"},{id:"tape",word:"tape",graphemes:["t","a","p","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-a",level:2,emoji:"ğŸ©¹"},{id:"cave",word:"cave",graphemes:["c","a","v","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-a",level:2,emoji:"ğŸ•³ï¸"},{id:"gave",word:"gave",graphemes:["g","a","v","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-a",level:2,emoji:"ğŸ"},{id:"wave",word:"wave",graphemes:["w","a","v","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-a",level:2,emoji:"ğŸŒŠ"},{id:"race",word:"race",graphemes:["r","a","c","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-a",level:2,emoji:"ğŸï¸"},{id:"bee",word:"bee",graphemes:["b","ee"],types:["c","lv"],pattern:"other",group:"long-e",level:2,emoji:"ğŸ"},{id:"see",word:"see",graphemes:["s","ee"],types:["c","lv"],pattern:"other",group:"long-e",level:2,emoji:"ğŸ‘€"},{id:"tree",word:"tree",graphemes:["tr","ee"],types:["bl","lv"],pattern:"blend",group:"long-e",level:2,emoji:"ğŸŒ²"},{id:"feet",word:"feet",graphemes:["f","ee","t"],types:["c","lv","c"],pattern:"other",group:"long-e",level:2,emoji:"ğŸ¦¶"},{id:"meet",word:"meet",graphemes:["m","ee","t"],types:["c","lv","c"],pattern:"other",group:"long-e",level:2,emoji:"ğŸ¤"},{id:"seed",word:"seed",graphemes:["s","ee","d"],types:["c","lv","c"],pattern:"other",group:"long-e",level:2,emoji:"ğŸŒ±"},{id:"feed",word:"feed",graphemes:["f","ee","d"],types:["c","lv","c"],pattern:"other",group:"long-e",level:2,emoji:"ğŸ¼"},{id:"need",word:"need",graphemes:["n","ee","d"],types:["c","lv","c"],pattern:"other",group:"long-e",level:2,emoji:"â¤ï¸"},{id:"weed",word:"weed",graphemes:["w","ee","d"],types:["c","lv","c"],pattern:"other",group:"long-e",level:2,emoji:"ğŸŒ¿"},{id:"week",word:"week",graphemes:["w","ee","k"],types:["c","lv","c"],pattern:"other",group:"long-e",level:2,emoji:"ğŸ“…"},{id:"peek",word:"peek",graphemes:["p","ee","k"],types:["c","lv","c"],pattern:"other",group:"long-e",level:2,emoji:"ğŸ‘ï¸"},{id:"jeep",word:"jeep",graphemes:["j","ee","p"],types:["c","lv","c"],pattern:"other",group:"long-e",level:2,emoji:"ğŸš™"},{id:"deep",word:"deep",graphemes:["d","ee","p"],types:["c","lv","c"],pattern:"other",group:"long-e",level:2,emoji:"ğŸŒŠ"},{id:"bike",word:"bike",graphemes:["b","i","k","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-i",level:2,emoji:"ğŸš²"},{id:"hike",word:"hike",graphemes:["h","i","k","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-i",level:2,emoji:"ğŸ¥¾"},{id:"like",word:"like",graphemes:["l","i","k","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-i",level:2,emoji:"â¤ï¸"},{id:"pine",word:"pine",graphemes:["p","i","n","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-i",level:2,emoji:"ğŸŒ²"},{id:"mine",word:"mine",graphemes:["m","i","n","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-i",level:2,emoji:"â›ï¸"},{id:"vine",word:"vine",graphemes:["v","i","n","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-i",level:2,emoji:"ğŸ‡"},{id:"line",word:"line",graphemes:["l","i","n","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-i",level:2,emoji:"ğŸ“"},{id:"fine",word:"fine",graphemes:["f","i","n","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-i",level:2,emoji:"ğŸ‘"},{id:"kite",word:"kite",graphemes:["k","i","t","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-i",level:2,emoji:"ğŸª"},{id:"mite",word:"mite",graphemes:["m","i","t","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-i",level:2,emoji:"ğŸœ"},{id:"hide",word:"hide",graphemes:["h","i","d","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-i",level:2,emoji:"ğŸ™ˆ"},{id:"ride",word:"ride",graphemes:["r","i","d","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-i",level:2,emoji:"ğŸ‡"},{id:"side",word:"side",graphemes:["s","i","d","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-i",level:2,emoji:"â¬…ï¸"},{id:"wide",word:"wide",graphemes:["w","i","d","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-i",level:2,emoji:"â†”ï¸"},{id:"bone",word:"bone",graphemes:["b","o","n","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-o",level:2,emoji:"ğŸ¦´"},{id:"cone",word:"cone",graphemes:["c","o","n","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-o",level:2,emoji:"ğŸ¦"},{id:"tone",word:"tone",graphemes:["t","o","n","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-o",level:2,emoji:"ğŸµ"},{id:"zone",word:"zone",graphemes:["z","o","n","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-o",level:2,emoji:"ğŸš«"},{id:"home",word:"home",graphemes:["h","o","m","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-o",level:2,emoji:"ğŸ "},{id:"hope",word:"hope",graphemes:["h","o","p","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-o",level:2,emoji:"ğŸ¤"},{id:"rope",word:"rope",graphemes:["r","o","p","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-o",level:2,emoji:"ğŸª¢"},{id:"note",word:"note",graphemes:["n","o","t","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-o",level:2,emoji:"ğŸ“"},{id:"vote",word:"vote",graphemes:["v","o","t","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-o",level:2,emoji:"ğŸ—³ï¸"},{id:"hole",word:"hole",graphemes:["h","o","l","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-o",level:2,emoji:"ğŸ•³ï¸"},{id:"mole",word:"mole",graphemes:["m","o","l","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-o",level:2,emoji:"ğŸ¦”"},{id:"pole",word:"pole",graphemes:["p","o","l","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-o",level:2,emoji:"ğŸ£"},{id:"cube",word:"cube",graphemes:["c","u","b","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-u",level:2,emoji:"ğŸ§Š"},{id:"tube",word:"tube",graphemes:["t","u","b","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-u",level:2,emoji:"ğŸ§ª"},{id:"tune",word:"tune",graphemes:["t","u","n","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-u",level:2,emoji:"ğŸµ"},{id:"cute",word:"cute",graphemes:["c","u","t","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-u",level:2,emoji:"ğŸ¥°"},{id:"mule",word:"mule",graphemes:["m","u","l","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-u",level:2,emoji:"ğŸ«"},{id:"rule",word:"rule",graphemes:["r","u","l","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-u",level:2,emoji:"ğŸ“"},{id:"huge",word:"huge",graphemes:["h","u","g","e"],types:["c","lv","c","se"],pattern:"CVCe",group:"long-u",level:2,emoji:"ğŸ‹"},{id:"ship",word:"ship",graphemes:["sh","i","p"],types:["d","sv","c"],pattern:"digraph",group:"digraphs",level:2,emoji:"ğŸš¢"},{id:"chip",word:"chip",graphemes:["ch","i","p"],types:["d","sv","c"],pattern:"digraph",group:"digraphs",level:2,emoji:"ğŸŸ"},{id:"chop",word:"chop",graphemes:["ch","o","p"],types:["d","sv","c"],pattern:"digraph",group:"digraphs",level:2,emoji:"ğŸ”ª"},{id:"chat",word:"chat",graphemes:["ch","a","t"],types:["d","sv","c"],pattern:"digraph",group:"digraphs",level:2,emoji:"ğŸ’¬"},{id:"chin",word:"chin",graphemes:["ch","i","n"],types:["d","sv","c"],pattern:"digraph",group:"digraphs",level:2,emoji:"ğŸ‘¶"},{id:"shut",word:"shut",graphemes:["sh","u","t"],types:["d","sv","c"],pattern:"digraph",group:"digraphs",level:2,emoji:"ğŸšª"},{id:"shop",word:"shop",graphemes:["sh","o","p"],types:["d","sv","c"],pattern:"digraph",group:"digraphs",level:2,emoji:"ğŸ›ï¸"},{id:"shed",word:"shed",graphemes:["sh","e","d"],types:["d","sv","c"],pattern:"digraph",group:"digraphs",level:2,emoji:"ğŸšï¸"},{id:"them",word:"them",graphemes:["th","e","m"],types:["d","sv","c"],pattern:"digraph",group:"digraphs",level:2,emoji:"ğŸ‘¥"},{id:"then",word:"then",graphemes:["th","e","n"],types:["d","sv","c"],pattern:"digraph",group:"digraphs",level:2,emoji:"â­ï¸"},{id:"thin",word:"thin",graphemes:["th","i","n"],types:["d","sv","c"],pattern:"digraph",group:"digraphs",level:2,emoji:"ğŸ’ª"},{id:"that",word:"that",graphemes:["th","a","t"],types:["d","sv","c"],pattern:"digraph",group:"digraphs",level:2,emoji:"ğŸ‘†"},{id:"math",word:"math",graphemes:["m","a","th"],types:["c","sv","d"],pattern:"digraph",group:"digraphs",level:2,emoji:"â•"},{id:"bath",word:"bath",graphemes:["b","a","th"],types:["c","sv","d"],pattern:"digraph",group:"digraphs",level:2,emoji:"ğŸ›"},{id:"rich",word:"rich",graphemes:["r","i","ch"],types:["c","sv","d"],pattern:"digraph",group:"digraphs",level:2,emoji:"ğŸ’°"},{id:"much",word:"much",graphemes:["m","u","ch"],types:["c","sv","d"],pattern:"digraph",group:"digraphs",level:2,emoji:"ğŸ“"},{id:"fish",word:"fish",graphemes:["f","i","sh"],types:["c","sv","d"],pattern:"digraph",group:"digraphs",level:2,emoji:"ğŸŸ"},{id:"dish",word:"dish",graphemes:["d","i","sh"],types:["c","sv","d"],pattern:"digraph",group:"digraphs",level:2,emoji:"ğŸ½ï¸"},{id:"wish",word:"wish",graphemes:["w","i","sh"],types:["c","sv","d"],pattern:"digraph",group:"digraphs",level:2,emoji:"â­"},{id:"flat",word:"flat",graphemes:["fl","a","t"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ“„"},{id:"flag",word:"flag",graphemes:["fl","a","g"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ"},{id:"flip",word:"flip",graphemes:["fl","i","p"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ”„"},{id:"flop",word:"flop",graphemes:["fl","o","p"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸŸ"},{id:"slam",word:"slam",graphemes:["sl","a","m"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸšª"},{id:"slim",word:"slim",graphemes:["sl","i","m"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ’ª"},{id:"slap",word:"slap",graphemes:["sl","a","p"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ‘‹"},{id:"plan",word:"plan",graphemes:["pl","a","n"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ“‹"},{id:"play",word:"play",graphemes:["pl","ay"],types:["bl","lv"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ®"},{id:"clap",word:"clap",graphemes:["cl","a","p"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ‘"},{id:"clip",word:"clip",graphemes:["cl","i","p"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ“"},{id:"clog",word:"clog",graphemes:["cl","o","g"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸš§"},{id:"glad",word:"glad",graphemes:["gl","a","d"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ˜Š"},{id:"glob",word:"glob",graphemes:["gl","o","b"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ’§"},{id:"trip",word:"trip",graphemes:["tr","i","p"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"âœˆï¸"},{id:"trim",word:"trim",graphemes:["tr","i","m"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"âœ‚ï¸"},{id:"trap",word:"trap",graphemes:["tr","a","p"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸª¤"},{id:"drip",word:"drip",graphemes:["dr","i","p"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ’§"},{id:"drop",word:"drop",graphemes:["dr","o","p"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ’§"},{id:"drum",word:"drum",graphemes:["dr","u","m"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ¥"},{id:"grip",word:"grip",graphemes:["gr","i","p"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ¤"},{id:"grin",word:"grin",graphemes:["gr","i","n"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ˜"},{id:"crab",word:"crab",graphemes:["cr","a","b"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ¦€"},{id:"crop",word:"crop",graphemes:["cr","o","p"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸŒ¾"},{id:"frog",word:"frog",graphemes:["fr","o","g"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ¸"},{id:"fret",word:"fret",graphemes:["fr","e","t"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ˜Ÿ"},{id:"brag",word:"brag",graphemes:["br","a","g"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ’¬"},{id:"brim",word:"brim",graphemes:["br","i","m"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ©"},{id:"spin",word:"spin",graphemes:["sp","i","n"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸŒ€"},{id:"spot",word:"spot",graphemes:["sp","o","t"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ”µ"},{id:"step",word:"step",graphemes:["st","e","p"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ‘Ÿ"},{id:"stop",word:"stop",graphemes:["st","o","p"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ›‘"},{id:"stem",word:"stem",graphemes:["st","e","m"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸŒ¹"},{id:"snap",word:"snap",graphemes:["sn","a","p"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ“¸"},{id:"snip",word:"snip",graphemes:["sn","i","p"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"âœ‚ï¸"},{id:"swim",word:"swim",graphemes:["sw","i","m"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸŠ"},{id:"sled",word:"sled",graphemes:["sl","e","d"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸ›·"},{id:"slug",word:"slug",graphemes:["sl","u","g"],types:["bl","sv","c"],pattern:"blend",group:"blends",level:3,emoji:"ğŸŒ"},{id:"oil",word:"oil",graphemes:["oi","l"],types:["dp","c"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ›¢ï¸"},{id:"coin",word:"coin",graphemes:["c","oi","n"],types:["c","dp","c"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸª™"},{id:"foil",word:"foil",graphemes:["f","oi","l"],types:["c","dp","c"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ³"},{id:"soil",word:"soil",graphemes:["s","oi","l"],types:["c","dp","c"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸŒ±"},{id:"coil",word:"coil",graphemes:["c","oi","l"],types:["c","dp","c"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸŒ€"},{id:"boil",word:"boil",graphemes:["b","oi","l"],types:["c","dp","c"],pattern:"other",group:"diphthongs",level:3,emoji:"â™¨ï¸"},{id:"boy",word:"boy",graphemes:["b","oy"],types:["c","dp"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ‘¦"},{id:"toy",word:"toy",graphemes:["t","oy"],types:["c","dp"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸª€"},{id:"joy",word:"joy",graphemes:["j","oy"],types:["c","dp"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ˜„"},{id:"cow",word:"cow",graphemes:["c","ow"],types:["c","dp"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ„"},{id:"now",word:"now",graphemes:["n","ow"],types:["c","dp"],pattern:"other",group:"diphthongs",level:3,emoji:"â°"},{id:"how",word:"how",graphemes:["h","ow"],types:["c","dp"],pattern:"other",group:"diphthongs",level:3,emoji:"â“"},{id:"bow_dip",word:"bow",graphemes:["b","ow"],types:["c","dp"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ€"},{id:"town",word:"town",graphemes:["t","ow","n"],types:["c","dp","c"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ˜ï¸"},{id:"gown",word:"gown",graphemes:["g","ow","n"],types:["c","dp","c"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ‘—"},{id:"down",word:"down",graphemes:["d","ow","n"],types:["c","dp","c"],pattern:"other",group:"diphthongs",level:3,emoji:"â¬‡ï¸"},{id:"out",word:"out",graphemes:["ou","t"],types:["dp","c"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸšª"},{id:"shout",word:"shout",graphemes:["sh","ou","t"],types:["d","dp","c"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ“¢"},{id:"loud",word:"loud",graphemes:["l","ou","d"],types:["c","dp","c"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ”Š"},{id:"cloud",word:"cloud",graphemes:["cl","ou","d"],types:["bl","dp","c"],pattern:"other",group:"diphthongs",level:3,emoji:"â˜ï¸"},{id:"mouth",word:"mouth",graphemes:["m","ou","th"],types:["c","dp","d"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ‘„"},{id:"south",word:"south",graphemes:["s","ou","th"],types:["c","dp","d"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ§­"},{id:"saw",word:"saw",graphemes:["s","aw"],types:["c","dp"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ”¨"},{id:"jaw",word:"jaw",graphemes:["j","aw"],types:["c","dp"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ’ª"},{id:"paw",word:"paw",graphemes:["p","aw"],types:["c","dp"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ¾"},{id:"raw",word:"raw",graphemes:["r","aw"],types:["c","dp"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ¥©"},{id:"law",word:"law",graphemes:["l","aw"],types:["c","dp"],pattern:"other",group:"diphthongs",level:3,emoji:"âš–ï¸"},{id:"yawn",word:"yawn",graphemes:["y","aw","n"],types:["c","dp","c"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ˜´"},{id:"dawn",word:"dawn",graphemes:["d","aw","n"],types:["c","dp","c"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸŒ…"},{id:"hawk",word:"hawk",graphemes:["h","aw","k"],types:["c","dp","c"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ¦…"},{id:"draw",word:"draw",graphemes:["dr","aw"],types:["bl","dp"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ¨"},{id:"claw",word:"claw",graphemes:["cl","aw"],types:["bl","dp"],pattern:"other",group:"diphthongs",level:3,emoji:"ğŸ¦"},{id:"band",word:"band",graphemes:["b","a","nd"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸ¸"},{id:"hand",word:"hand",graphemes:["h","a","nd"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"âœ‹"},{id:"land",word:"land",graphemes:["l","a","nd"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸŒ"},{id:"sand",word:"sand",graphemes:["s","a","nd"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸ–ï¸"},{id:"bend",word:"bend",graphemes:["b","e","nd"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"â†©ï¸"},{id:"lend",word:"lend",graphemes:["l","e","nd"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸ¤"},{id:"mend",word:"mend",graphemes:["m","e","nd"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸª¡"},{id:"send",word:"send",graphemes:["s","e","nd"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸ“¨"},{id:"tent",word:"tent",graphemes:["t","e","nt"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"â›º"},{id:"dent",word:"dent",graphemes:["d","e","nt"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸ”¨"},{id:"went",word:"went",graphemes:["w","e","nt"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸš¶"},{id:"best",word:"best",graphemes:["b","e","st"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸ¥‡"},{id:"rest",word:"rest",graphemes:["r","e","st"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸ˜´"},{id:"nest",word:"nest",graphemes:["n","e","st"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸªº"},{id:"vest",word:"vest",graphemes:["v","e","st"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸ¦º"},{id:"fast",word:"fast",graphemes:["f","a","st"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"âš¡"},{id:"last",word:"last",graphemes:["l","a","st"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸ"},{id:"mast",word:"mast",graphemes:["m","a","st"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"â›µ"},{id:"camp",word:"camp",graphemes:["c","a","mp"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸ•ï¸"},{id:"lamp",word:"lamp",graphemes:["l","a","mp"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸ’¡"},{id:"damp",word:"damp",graphemes:["d","a","mp"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸ’§"},{id:"jump",word:"jump",graphemes:["j","u","mp"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸ¦˜"},{id:"bump",word:"bump",graphemes:["b","u","mp"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸ¤›"},{id:"dump",word:"dump",graphemes:["d","u","mp"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸ—‘ï¸"},{id:"felt",word:"felt",graphemes:["f","e","lt"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸ§¤"},{id:"melt",word:"melt",graphemes:["m","e","lt"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸ•¯ï¸"},{id:"belt",word:"belt",graphemes:["b","e","lt"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸ‘–"},{id:"link",word:"link",graphemes:["l","i","nk"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸ”—"},{id:"sink",word:"sink",graphemes:["s","i","nk"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸš¿"},{id:"pink",word:"pink",graphemes:["p","i","nk"],types:["c","sv","bl"],pattern:"CVCC",group:"struct-cvcc",level:2,emoji:"ğŸŒ¸"},{id:"stamp",word:"stamp",graphemes:["st","a","mp"],types:["bl","sv","bl"],pattern:"CCVCC",group:"struct-ccvcc",level:3,emoji:"ğŸ“®"},{id:"clamp",word:"clamp",graphemes:["cl","a","mp"],types:["bl","sv","bl"],pattern:"CCVCC",group:"struct-ccvcc",level:3,emoji:"ğŸ—œï¸"},{id:"bland",word:"bland",graphemes:["bl","a","nd"],types:["bl","sv","bl"],pattern:"CCVCC",group:"struct-ccvcc",level:3,emoji:"ğŸ˜‘"},{id:"grand",word:"grand",graphemes:["gr","a","nd"],types:["bl","sv","bl"],pattern:"CCVCC",group:"struct-ccvcc",level:3,emoji:"ğŸ°"},{id:"plant",word:"plant",graphemes:["pl","a","nt"],types:["bl","sv","bl"],pattern:"CCVCC",group:"struct-ccvcc",level:3,emoji:"ğŸŒ±"},{id:"blend",word:"blend",graphemes:["bl","e","nd"],types:["bl","sv","bl"],pattern:"CCVCC",group:"struct-ccvcc",level:3,emoji:"ğŸ¨"},{id:"spend",word:"spend",graphemes:["sp","e","nd"],types:["bl","sv","bl"],pattern:"CCVCC",group:"struct-ccvcc",level:3,emoji:"ğŸ’¸"},{id:"trend",word:"trend",graphemes:["tr","e","nd"],types:["bl","sv","bl"],pattern:"CCVCC",group:"struct-ccvcc",level:3,emoji:"ğŸ“ˆ"},{id:"crest",word:"crest",graphemes:["cr","e","st"],types:["bl","sv","bl"],pattern:"CCVCC",group:"struct-ccvcc",level:3,emoji:"ğŸŒŠ"},{id:"chest",word:"chest",graphemes:["ch","e","st"],types:["d","sv","bl"],pattern:"CCVCC",group:"struct-ccvcc",level:3,emoji:"ğŸ“¦"},{id:"crisp",word:"crisp",graphemes:["cr","i","sp"],types:["bl","sv","bl"],pattern:"CCVCC",group:"struct-ccvcc",level:3,emoji:"ğŸŸ"},{id:"swift",word:"swift",graphemes:["sw","i","ft"],types:["bl","sv","bl"],pattern:"CCVCC",group:"struct-ccvcc",level:3,emoji:"ğŸ¦…"},{id:"draft",word:"draft",graphemes:["dr","a","ft"],types:["bl","sv","bl"],pattern:"CCVCC",group:"struct-ccvcc",level:3,emoji:"ğŸ“"},{id:"blast",word:"blast",graphemes:["bl","a","st"],types:["bl","sv","bl"],pattern:"CCVCC",group:"struct-ccvcc",level:3,emoji:"ğŸ’¥"},{id:"trust",word:"trust",graphemes:["tr","u","st"],types:["bl","sv","bl"],pattern:"CCVCC",group:"struct-ccvcc",level:3,emoji:"ğŸ¤"},{id:"grunt",word:"grunt",graphemes:["gr","u","nt"],types:["bl","sv","bl"],pattern:"CCVCC",group:"struct-ccvcc",level:3,emoji:"ğŸ·"},{id:"sitting",word:"sitting",graphemes:["s","i","t","-ing"],types:["c","sv","c","sf"],pattern:"suffix",group:"suffix-ing",level:3,emoji:"ğŸ’º"},{id:"running",word:"running",graphemes:["r","u","n","-ing"],types:["c","sv","c","sf"],pattern:"suffix",group:"suffix-ing",level:3,emoji:"ğŸƒ"},{id:"jumping",word:"jumping",graphemes:["j","u","mp","-ing"],types:["c","sv","bl","sf"],pattern:"suffix",group:"suffix-ing",level:3,emoji:"ğŸ¦˜"},{id:"fishing",word:"fishing",graphemes:["f","i","sh","-ing"],types:["c","sv","d","sf"],pattern:"suffix",group:"suffix-ing",level:3,emoji:"ğŸ£"},{id:"wishing",word:"wishing",graphemes:["w","i","sh","-ing"],types:["c","sv","d","sf"],pattern:"suffix",group:"suffix-ing",level:3,emoji:"â­"},{id:"singing",word:"singing",graphemes:["s","i","ng","-ing"],types:["c","sv","d","sf"],pattern:"suffix",group:"suffix-ing",level:3,emoji:"ğŸ¤"},{id:"ringing",word:"ringing",graphemes:["r","i","ng","-ing"],types:["c","sv","d","sf"],pattern:"suffix",group:"suffix-ing",level:3,emoji:"ğŸ””"},{id:"landing",word:"landing",graphemes:["l","a","nd","-ing"],types:["c","sv","bl","sf"],pattern:"suffix",group:"suffix-ing",level:3,emoji:"âœˆï¸"},{id:"camping",word:"camping",graphemes:["c","a","mp","-ing"],types:["c","sv","bl","sf"],pattern:"suffix",group:"suffix-ing",level:3,emoji:"ğŸ•ï¸"},{id:"melting",word:"melting",graphemes:["m","e","lt","-ing"],types:["c","sv","bl","sf"],pattern:"suffix",group:"suffix-ing",level:3,emoji:"ğŸ•¯ï¸"},{id:"resting",word:"resting",graphemes:["r","e","st","-ing"],types:["c","sv","bl","sf"],pattern:"suffix",group:"suffix-ing",level:3,emoji:"ğŸ˜´"},{id:"blending",word:"blending",graphemes:["bl","e","nd","-ing"],types:["bl","sv","bl","sf"],pattern:"suffix",group:"suffix-ing",level:3,emoji:"ğŸ¨"},{id:"jumped",word:"jumped",graphemes:["j","u","mp","-ed"],types:["c","sv","bl","sf"],pattern:"suffix",group:"suffix-ed",level:3,emoji:"ğŸ¦˜"},{id:"fished",word:"fished",graphemes:["f","i","sh","-ed"],types:["c","sv","d","sf"],pattern:"suffix",group:"suffix-ed",level:3,emoji:"ğŸ£"},{id:"wished",word:"wished",graphemes:["w","i","sh","-ed"],types:["c","sv","d","sf"],pattern:"suffix",group:"suffix-ed",level:3,emoji:"â­"},{id:"landed",word:"landed",graphemes:["l","a","nd","-ed"],types:["c","sv","bl","sf"],pattern:"suffix",group:"suffix-ed",level:3,emoji:"âœˆï¸"},{id:"camped",word:"camped",graphemes:["c","a","mp","-ed"],types:["c","sv","bl","sf"],pattern:"suffix",group:"suffix-ed",level:3,emoji:"ğŸ•ï¸"},{id:"melted",word:"melted",graphemes:["m","e","lt","-ed"],types:["c","sv","bl","sf"],pattern:"suffix",group:"suffix-ed",level:3,emoji:"ğŸ•¯ï¸"},{id:"rested",word:"rested",graphemes:["r","e","st","-ed"],types:["c","sv","bl","sf"],pattern:"suffix",group:"suffix-ed",level:3,emoji:"ğŸ˜´"},{id:"blended",word:"blended",graphemes:["bl","e","nd","-ed"],types:["bl","sv","bl","sf"],pattern:"suffix",group:"suffix-ed",level:3,emoji:"ğŸ¨"},{id:"lifted",word:"lifted",graphemes:["l","i","ft","-ed"],types:["c","sv","bl","sf"],pattern:"suffix",group:"suffix-ed",level:3,emoji:"ğŸ’ª"},{id:"hunted",word:"hunted",graphemes:["h","u","nt","-ed"],types:["c","sv","bl","sf"],pattern:"suffix",group:"suffix-ed",level:3,emoji:"ğŸ¹"},{id:"runner",word:"runner",graphemes:["r","u","n","-er"],types:["c","sv","c","sf"],pattern:"suffix",group:"suffix-er",level:3,emoji:"ğŸƒ"},{id:"jumper",word:"jumper",graphemes:["j","u","mp","-er"],types:["c","sv","bl","sf"],pattern:"suffix",group:"suffix-er",level:3,emoji:"ğŸ¦˜"},{id:"fisher",word:"fisher",graphemes:["f","i","sh","-er"],types:["c","sv","d","sf"],pattern:"suffix",group:"suffix-er",level:3,emoji:"ğŸ£"},{id:"singer",word:"singer",graphemes:["s","i","ng","-er"],types:["c","sv","d","sf"],pattern:"suffix",group:"suffix-er",level:3,emoji:"ğŸ¤"},{id:"faster",word:"faster",graphemes:["f","a","st","-er"],types:["c","sv","bl","sf"],pattern:"suffix",group:"suffix-er",level:3,emoji:"âš¡"},{id:"longer",word:"longer",graphemes:["l","o","ng","-er"],types:["c","sv","d","sf"],pattern:"suffix",group:"suffix-er",level:3,emoji:"ğŸ“"},{id:"bigger",word:"bigger",graphemes:["b","i","g","-er"],types:["c","sv","c","sf"],pattern:"suffix",group:"suffix-er",level:3,emoji:"ğŸ˜"},{id:"winner",word:"winner",graphemes:["w","i","n","-er"],types:["c","sv","c","sf"],pattern:"suffix",group:"suffix-er",level:3,emoji:"ğŸ†"},{id:"fastest",word:"fastest",graphemes:["f","a","st","-est"],types:["c","sv","bl","sf"],pattern:"suffix",group:"suffix-est",level:3,emoji:"âš¡"},{id:"longest",word:"longest",graphemes:["l","o","ng","-est"],types:["c","sv","d","sf"],pattern:"suffix",group:"suffix-est",level:3,emoji:"ğŸ“"},{id:"richest",word:"richest",graphemes:["r","i","ch","-est"],types:["c","sv","d","sf"],pattern:"suffix",group:"suffix-est",level:3,emoji:"ğŸ’°"},{id:"biggest",word:"biggest",graphemes:["b","i","g","-est"],types:["c","sv","c","sf"],pattern:"suffix",group:"suffix-est",level:3,emoji:"ğŸ˜"},{id:"coldest",word:"coldest",graphemes:["c","o","ld","-est"],types:["c","sv","bl","sf"],pattern:"suffix",group:"suffix-est",level:3,emoji:"ğŸ§Š"},{id:"boldest",word:"boldest",graphemes:["b","o","ld","-est"],types:["c","sv","bl","sf"],pattern:"suffix",group:"suffix-est",level:3,emoji:"ğŸ’ª"},{id:"kindest",word:"kindest",graphemes:["k","i","nd","-est"],types:["c","sv","bl","sf"],pattern:"suffix",group:"suffix-est",level:3,emoji:"ğŸ’›"},{id:"oldest",word:"oldest",graphemes:["o","ld","-est"],types:["sv","bl","sf"],pattern:"suffix",group:"suffix-est",level:3,emoji:"ğŸ§“"}];function zt(o){return B.filter(e=>e.level<=o)}function Yt(o,e=3){let t=B.filter(r=>r.id!==o.id&&r.group===o.group);return t.length<e&&(t=B.filter(r=>r.id!==o.id&&r.level===o.level)),Q(t).slice(0,e)}function Q(o){const e=[...o];for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e}const ye=["short-a","short-e","short-i","short-o","short-u","long-a","long-e","long-i","long-o","long-u","digraphs","blends","diphthongs"],Xt=["struct-cvc","struct-ccvc","struct-cvcc","struct-ccvcc"],Kt=["suffix-ing","suffix-ed","suffix-er","suffix-est"];class Zt{getAdaptivePool(e=10,t={}){const r=t.maxLevel??p.get("difficulty")??1;let s=t.group?B:zt(r);t.group&&(t.group==="struct-cvc"?s=B.filter(l=>l.pattern==="CVC"):t.group==="struct-ccvc"?s=B.filter(l=>l.pattern==="blend"):s=s.filter(l=>l.group===t.group)),s.length===0&&(s=B.slice(0,20));const a=p.get("wordStats")||{},n=s.map(l=>{const d=a[l.id];if(!d||d.attempts===0)return{word:l,weight:3};const h=d.correct/d.attempts;return h<.5?{word:l,weight:5}:h<.7?{word:l,weight:3}:h>.9&&d.attempts>=ze?{word:l,weight:.5}:{word:l,weight:1}});return this._weightedSample(n,e)}getNextWord(e={}){const t=this.getAdaptivePool(20,e),s=(p.get("wordHistory")||[]).slice(0,5).map(n=>n.wordId),a=t.filter(n=>!s.includes(n.id));return a.length>0?a[0]:t[0]||B[0]}recordAttempt(e,t,r="blend"){p.recordWordAttempt(e,t),p.addWordHistory({wordId:e,correct:t,mode:r,timestamp:new Date().toISOString()});const s=B.find(a=>a.id===e);s&&this._updateGroupMastery(s.group)}_updateGroupMastery(e){const t=p.get("wordStats")||{},r=B.filter(l=>l.group===e);let s=0,a=0;for(const l of r){const d=t[l.id];d&&d.attempts>0&&(s+=d.attempts,a+=d.correct)}const n=s>0?a/s:0;p.updateGroupMastery(e,n)}getWordAccuracy(e){const r=(p.get("wordStats")||{})[e];return r?{...r,accuracy:r.attempts>0?r.correct/r.attempts:0}:null}isNewWord(e){const t=p.get("wordStats")||{};return!t[e]||t[e].attempts===0}getOverallStats(){const e=p.get("wordStats")||{},t=p.get("wordHistory")||[],r=p.get("groupMastery")||{};let s=0,a=0,n=0,l=0;for(const[,d]of Object.entries(e))d.attempts>0&&(s+=d.attempts,a+=d.correct,n++,d.attempts>=ze&&d.correct/d.attempts>=Ft&&l++);return{totalAttempts:s,totalCorrect:a,overallAccuracy:s>0?a/s:0,wordsAttempted:n,wordsMastered:l,totalWords:B.length,groupMastery:r,recentHistory:t.slice(0,50),xp:p.get("xp"),level:p.get("level"),streak:p.get("streak"),bestStreak:p.get("bestStreak")}}exportCSV(){const e=p.get("wordStats")||{},t=["Word,Attempts,Correct,Accuracy,Last Seen"];for(const r of B){const s=e[r.id];if(s&&s.attempts>0){const a=(s.correct/s.attempts*100).toFixed(0);t.push(`${r.word},${s.attempts},${s.correct},${a}%,${s.lastSeen||""}`)}}return t.join(`
`)}_weightedSample(e,t){const r=[],s=[...e];for(let a=0;a<t&&s.length>0;a++){const n=s.reduce((d,h)=>d+h.weight,0);let l=Math.random()*n;for(let d=0;d<s.length;d++)if(l-=s[d].weight,l<=0){r.push(s[d].word),s.splice(d,1);break}}return r}}const ie=new Zt;class Jt{constructor(){this._recognition=null,this._listening=!1,this.supported=!!(window.SpeechRecognition||window.webkitSpeechRecognition)}listen(e){return this.supported?new Promise(t=>{const r=window.SpeechRecognition||window.webkitSpeechRecognition;this._recognition=new r,this._recognition.lang="en-US",this._recognition.continuous=!1,this._recognition.interimResults=!1,this._recognition.maxAlternatives=5;const s=setTimeout(()=>{this.stop(),t(null)},8e3);this._recognition.onresult=a=>{clearTimeout(s);const l=Array.from(a.results[0]).map(b=>({text:b.transcript.toLowerCase().trim(),confidence:b.confidence})),d=e.toLowerCase().trim(),h=l.some(b=>b.text===d);let v={text:"",score:0,confidence:0};for(const b of l){const y=this._phoneticSimilarity(b.text,d);y>v.score&&(v={text:b.text,score:y,confidence:b.confidence})}this._listening=!1,t({heard:v.text,score:Math.round(v.score*100),correct:h||v.score>=.75,confidence:v.confidence})},this._recognition.onerror=()=>{clearTimeout(s),this._listening=!1,t(null)},this._recognition.onend=()=>{clearTimeout(s),this._listening=!1},this._listening=!0,this._recognition.start()}):Promise.resolve(null)}stop(){if(this._recognition){try{this._recognition.stop()}catch{}this._recognition=null}this._listening=!1}get isListening(){return this._listening}_phoneticSimilarity(e,t){if(e===t)return 1;const r=d=>d.replace(/ph/g,"f").replace(/ck/g,"k").replace(/igh/g,"i").replace(/tion/g,"shun").replace(/ee/g,"e").replace(/oo/g,"u").replace(/th/g,"t").replace(/sh/g,"s").replace(/ch/g,"c"),s=r(e),a=r(t),n=this._levenshtein(s,a),l=Math.max(s.length,a.length,1);return 1-n/l}_levenshtein(e,t){const r=e.length,s=t.length,a=Array.from({length:r+1},()=>new Array(s+1).fill(0));for(let n=0;n<=r;n++)a[n][0]=n;for(let n=0;n<=s;n++)a[0][n]=n;for(let n=1;n<=r;n++)for(let l=1;l<=s;l++){const d=e[n-1]===t[l-1]?0:1;a[n][l]=Math.min(a[n-1][l]+1,a[n][l-1]+1,a[n-1][l-1]+d)}return a[r][s]}}const oe=new Jt,O="/blending/",he={neutral:`${O}images/mascot/giri-neutral.png`,celebrate:`${O}images/mascot/giri-celebrate.png`,confetti:`${O}images/mascot/giri-celebrate-confetti.png`,clap:`${O}images/mascot/giri-clap-frame.png`,encourage:`${O}images/mascot/giri-encourage.png`,holdCard:`${O}images/mascot/giri-hold-card.png`,pointLeft:`${O}images/mascot/giri-point-left.png`,pointRight:`${O}images/mascot/giri-point-right.png`,thinking:`${O}images/mascot/giri-thinking.png`,trophy:`${O}images/mascot/giri-trophy.png`,whiteboard:`${O}images/mascot/giri-whiteboard.png`},Xe=["You're doing great!","Amazing!","Keep going!","Super reader!","You rock!","Fantastic!","Way to go!","Brilliant!","Wow!","You're a star!","Nice work!","So proud of you!"],Ke=["Almost there!","Try again!","You can do it!","Keep trying!","So close!","Let's try once more!"];class Qt{constructor(){this._state="neutral",this._preloaded=!1}preload(){if(!this._preloaded){for(const e of Object.values(he)){const t=new Image;t.src=e}this._preloaded=!0}}init(){this.preload(),this._render("mascot-mini","neutral",28),this._render("mascot-home","holdCard",100),this._render("mascot","neutral",80)}setState(e){he[e]&&(this._state=e,this._render("mascot",e,80),this._render("mascot-mini",e==="neutral"?"neutral":e,28))}setHomeState(e="holdCard"){this._render("mascot-home",e,100)}setResultState(e="celebrate"){this._render("result-mascot",e,140)}celebrate(e=!1){const t=e?"trophy":"celebrate";this.setState(t);const r=document.getElementById("mascot");r&&(r.classList.add("celebrate"),setTimeout(()=>r.classList.remove("celebrate"),2e3))}encourage(){this.setState("encourage");const e=document.getElementById("mascot");e&&(e.classList.add("peek"),setTimeout(()=>{e.classList.remove("peek"),this.setState("neutral")},2500))}think(){this.setState("thinking")}point(e="right"){this.setState(e==="left"?"pointLeft":"pointRight")}clap(){this.setState("clap"),setTimeout(()=>this.setState("neutral"),2e3)}getCheer(){return Xe[Math.floor(Math.random()*Xe.length)]}getEncouragement(){return Ke[Math.floor(Math.random()*Ke.length)]}_render(e,t,r){const s=document.getElementById(e);if(!s)return;const a=he[t]||he.neutral;let n=s.querySelector("img");n||(n=document.createElement("img"),n.alt="Giri the mascot",n.draggable=!1,n.style.cssText=`width:${r}px; height:${r}px; object-fit:contain; user-select:none; pointer-events:none;`,s.innerHTML="",s.appendChild(n)),n.src=a,n.style.width=`${r}px`,n.style.height=`${r}px`}}const G=new Qt,er=ye.slice(0,10);class tr{constructor(){this._canvas=null,this._ctx=null,this._angle=0,this._spinning=!1,this._segments=[],this._onLand=null}init(e){this._canvas=e,this._ctx=e.getContext("2d"),this._segments=er.map(t=>({key:t,...z[t]})),this._draw()}spin(){return this._spinning?Promise.reject("already spinning"):(this._spinning=!0,new Promise(e=>{const t=this._angle+(Math.random()*3+4)*Math.PI*2;ge.to(this,{_angle:t,duration:3.5,ease:"power4.out",onUpdate:()=>{this._draw();const r=this._getSelectedIndex();this._lastSegIndex!==r&&(this._lastSegIndex=r,T.playSfx("spin"))},onComplete:()=>{this._spinning=!1;const r=this._getSelectedIndex(),s=this._segments[r];this._flashSegment(r),e(s.key)}})}))}get isSpinning(){return this._spinning}_getSelectedIndex(){const e=Math.PI*2/this._segments.length,t=(this._angle%(Math.PI*2)+Math.PI*2)%(Math.PI*2),r=Math.floor(t/e)%this._segments.length;return this._segments.length-1-r}_draw(){const e=this._ctx,t=this._canvas;if(!e||!t)return;const r=t.width/2,s=t.height/2,a=Math.min(r,s)-6,n=Math.PI*2/this._segments.length;e.clearRect(0,0,t.width,t.height),e.save(),e.translate(r,s),e.rotate(this._angle);for(let l=0;l<this._segments.length;l++){const d=this._segments[l],h=l*n,v=h+n;e.beginPath(),e.moveTo(0,0),e.arc(0,0,a,h,v),e.closePath(),e.fillStyle=d.color,e.fill(),e.strokeStyle="rgba(255,255,255,0.4)",e.lineWidth=2,e.stroke(),e.save(),e.rotate(h+n/2),e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.fillText(d.icon,a*.58,0),e.font="bold 10px Nunito, sans-serif",e.fillStyle="#fff",e.fillText(d.label,a*.38,0),e.restore()}e.restore(),e.beginPath(),e.arc(r,s,28,0,Math.PI*2),e.fillStyle="#fff",e.fill(),e.strokeStyle="rgba(0,0,0,0.1)",e.lineWidth=2,e.stroke(),e.save(),e.fillStyle="#fff",e.strokeStyle="#333",e.lineWidth=2,e.beginPath(),e.moveTo(r,4),e.lineTo(r-10,-4),e.lineTo(r+10,-4),e.closePath(),e.fill(),e.stroke(),e.restore()}_flashSegment(e){if(!this._ctx)return;let r=0;const s=setInterval(()=>{r++,this._draw(),r>=4&&clearInterval(s)},150)}}function pe(o,e,t){e.innerHTML="";const r={c:"consonant",sv:"short-vowel",lv:"long-vowel",d:"digraph",bl:"blend",se:"silent-e",rc:"r-control"},s=o.graphemes.map((a,n)=>{const l=document.createElement("div");return l.className=`letter-tile letter-tile--${r[o.types[n]]||"consonant"}`,l.textContent=a,l.setAttribute("role","listitem"),l.setAttribute("aria-label",`${a}, ${r[o.types[n]]||"consonant"}`),e.appendChild(l),l});return ge.set(s,{opacity:0,scale:.3,y:-60,rotation:()=>ge.utils.random(-30,30)}),ge.to(s,{opacity:1,scale:1,y:0,rotation:0,duration:.45,stagger:.12,ease:"back.out(1.7)",onComplete:()=>{s.forEach(a=>a.classList.add("letter-tile--revealed"))},onUpdate:function(){const a=this.progress(),n=.12;s.forEach((l,d)=>{const h=d*n/(s.length*n+.45);a>=h+.3&&!s[d].dataset.landed&&(s[d].dataset.landed="true",t==null||t(d))})}}),s}const xe=new tr;rt.register(...Gt);let J=null;function rr(o){const e=ie.getOverallStats();o.innerHTML=`
    <!-- Summary Stats -->
    <div class="dash-stats-grid">
      <div class="dash-stat-card">
        <span class="dash-stat-value">${e.wordsAttempted}</span>
        <span class="dash-stat-label">Words practiced</span>
      </div>
      <div class="dash-stat-card">
        <span class="dash-stat-value">${e.wordsMastered}</span>
        <span class="dash-stat-label">Words mastered</span>
      </div>
      <div class="dash-stat-card">
        <span class="dash-stat-value">${Math.round(e.overallAccuracy*100)}%</span>
        <span class="dash-stat-label">Accuracy</span>
      </div>
      <div class="dash-stat-card">
        <span class="dash-stat-value">${e.bestStreak}</span>
        <span class="dash-stat-label">Best streak</span>
      </div>
    </div>

    <!-- Accuracy Chart -->
    <h3 class="dash-section-title">Group Mastery</h3>
    <div class="dash-chart-wrap">
      <canvas id="chart-mastery" aria-label="Group mastery chart"></canvas>
    </div>

    <!-- Mastery Bars -->
    <div class="mastery-bar-list" id="mastery-bars"></div>

    <!-- Learning Path -->
    <h3 class="dash-section-title" style="margin-top:24px">Learning Path</h3>
    <div id="learning-path"></div>

    <!-- Recent Words -->
    <h3 class="dash-section-title" style="margin-top:24px">Recent Words</h3>
    <div style="overflow-x:auto;">
      <table class="word-history-table">
        <thead><tr><th>Word</th><th>Mode</th><th>Result</th><th>When</th></tr></thead>
        <tbody id="word-history-body"></tbody>
      </table>
    </div>

    <!-- Actions -->
    <div class="dash-actions">
      <button class="btn btn--ghost" id="btn-export-csv">Export CSV</button>
      <button class="btn btn--ghost" id="btn-add-words">Custom Words</button>
    </div>
  `,sr(e),or(e),ar(e),nr(e),ir()}function sr(o){const e=document.getElementById("chart-mastery");if(!e)return;J&&(J.destroy(),J=null);const t=ye.filter(n=>z[n]),r=t.map(n=>z[n].label),s=t.map(n=>Math.round((o.groupMastery[n]??0)*100)),a=t.map(n=>z[n].color);J=new rt(e,{type:"bar",data:{labels:r,datasets:[{label:"Mastery %",data:s,backgroundColor:a.map(n=>n+"80"),borderColor:a,borderWidth:2,borderRadius:6,barPercentage:.7}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:n=>n+"%",font:{size:11}},grid:{display:!1}},x:{ticks:{font:{size:10},maxRotation:45},grid:{display:!1}}}}})}function or(o){const e=document.getElementById("mastery-bars");e&&(e.innerHTML=ye.map(t=>{const r=z[t];if(!r)return"";const s=Math.round((o.groupMastery[t]??0)*100);return`
      <div class="mastery-bar-item">
        <span class="mastery-bar-label">${r.icon} ${r.label}</span>
        <div class="mastery-bar-track">
          <div class="mastery-bar-fill" style="width:${s}%; background:${r.color}"></div>
        </div>
        <span class="mastery-bar-pct">${s}%</span>
      </div>
    `}).join(""))}function ar(o){const e=document.getElementById("learning-path");if(!e)return;const t=Nt(o.groupMastery);e.innerHTML=je.map(r=>{const s=t.includes(r.id),a=r.groups.map(l=>o.groupMastery[l]??0),n=a.length?Math.round(a.reduce((l,d)=>l+d,0)/a.length*100):0;return`
      <div class="mastery-bar-item" style="opacity:${s?1:.4}">
        <span class="mastery-bar-label">${r.icon} ${r.name}</span>
        <div class="mastery-bar-track">
          <div class="mastery-bar-fill" style="width:${n}%"></div>
        </div>
        <span class="mastery-bar-pct">${s?n+"%":"ğŸ”’"}</span>
      </div>
    `}).join("")}function nr(o){const e=document.getElementById("word-history-body");if(!e)return;const t=o.recentHistory.slice(0,30).map(r=>{const s=B.find(d=>d.id===r.wordId),a=(s==null?void 0:s.emoji)||"",n=lr(r.timestamp),l=r.correct?'<span style="color:var(--color-success)">âœ“</span>':'<span style="color:var(--color-error)">âœ—</span>';return`<tr>
      <td>${a} ${r.wordId}</td>
      <td>${r.mode}</td>
      <td>${l}</td>
      <td>${n}</td>
    </tr>`});e.innerHTML=t.join("")||'<tr><td colspan="4" style="text-align:center;color:var(--text-muted)">No history yet</td></tr>'}function ir(){var o,e;(o=document.getElementById("btn-export-csv"))==null||o.addEventListener("click",()=>{const t=ie.exportCSV(),r=new Blob([t],{type:"text/csv"}),s=URL.createObjectURL(r),a=document.createElement("a");a.href=s,a.download="phonicsquest-progress.csv",a.click(),URL.revokeObjectURL(s)}),(e=document.getElementById("btn-add-words"))==null||e.addEventListener("click",()=>{alert(`Custom words feature coming soon! You can add words via the browser console:

store.set("customWords", [...])`)})}function lr(o){if(!o)return"";const e=Date.now()-new Date(o).getTime(),t=Math.floor(e/6e4);if(t<1)return"just now";if(t<60)return`${t}m ago`;const r=Math.floor(t/60);return r<24?`${r}h ago`:`${Math.floor(r/24)}d ago`}function cr(){J&&(J.destroy(),J=null)}var Me={};(function o(e,t,r,s){var a=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),n=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!e.OffscreenCanvas)return!1;try{var c=new OffscreenCanvas(1,1),i=c.getContext("2d");i.fillRect(0,0,1,1);var g=c.transferToImageBitmap();i.createPattern(g,"no-repeat")}catch{return!1}return!0}();function d(){}function h(c){var i=t.exports.Promise,g=i!==void 0?i:e.Promise;return typeof g=="function"?new g(c):(c(d,d),null)}var v=function(c,i){return{transform:function(g){if(c)return g;if(i.has(g))return i.get(g);var f=new OffscreenCanvas(g.width,g.height),w=f.getContext("2d");return w.drawImage(g,0,0),i.set(g,f),f},clear:function(){i.clear()}}}(l,new Map),b=function(){var c=Math.floor(16.666666666666668),i,g,f={},w=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(i=function(C){var x=Math.random();return f[x]=requestAnimationFrame(function m(j){w===j||w+c-1<j?(w=j,delete f[x],C()):f[x]=requestAnimationFrame(m)}),x},g=function(C){f[C]&&cancelAnimationFrame(f[C])}):(i=function(C){return setTimeout(C,c)},g=function(C){return clearTimeout(C)}),{frame:i,cancel:g}}(),y=function(){var c,i,g={};function f(w){function C(x,m){w.postMessage({options:x||{},callback:m})}w.init=function(m){var j=m.transferControlToOffscreen();w.postMessage({canvas:j},[j])},w.fire=function(m,j,E){if(i)return C(m,null),i;var I=Math.random().toString(36).slice(2);return i=h(function(M){function V(L){L.data.callback===I&&(delete g[I],w.removeEventListener("message",V),i=null,v.clear(),E(),M())}w.addEventListener("message",V),C(m,I),g[I]=V.bind(null,{data:{callback:I}})}),i},w.reset=function(){w.postMessage({reset:!0});for(var m in g)g[m](),delete g[m]}}return function(){if(c)return c;if(!r&&a){var w=["var CONFETTI, SIZE = {}, module = {};","("+o.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{c=new Worker(URL.createObjectURL(new Blob([w])))}catch(C){return typeof console<"u"&&typeof console.warn=="function"&&console.warn("ğŸŠ Could not load worker",C),null}f(c)}return c}}(),S={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function Y(c,i){return i?i(c):c}function re(c){return c!=null}function k(c,i,g){return Y(c&&re(c[i])?c[i]:S[i],g)}function ut(c){return c<0?0:Math.floor(c)}function mt(c,i){return Math.floor(Math.random()*(i-c))+c}function ve(c){return parseInt(c,16)}function ft(c){return c.map(yt)}function yt(c){var i=String(c).replace(/[^0-9a-f]/gi,"");return i.length<6&&(i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]),{r:ve(i.substring(0,2)),g:ve(i.substring(2,4)),b:ve(i.substring(4,6))}}function vt(c){var i=k(c,"origin",Object);return i.x=k(i,"x",Number),i.y=k(i,"y",Number),i}function bt(c){c.width=document.documentElement.clientWidth,c.height=document.documentElement.clientHeight}function wt(c){var i=c.getBoundingClientRect();c.width=i.width,c.height=i.height}function Ct(c){var i=document.createElement("canvas");return i.style.position="fixed",i.style.top="0px",i.style.left="0px",i.style.pointerEvents="none",i.style.zIndex=c,i}function xt(c,i,g,f,w,C,x,m,j){c.save(),c.translate(i,g),c.rotate(C),c.scale(f,w),c.arc(0,0,1,x,m,j),c.restore()}function jt(c){var i=c.angle*(Math.PI/180),g=c.spread*(Math.PI/180);return{x:c.x,y:c.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:c.startVelocity*.5+Math.random()*c.startVelocity,angle2D:-i+(.5*g-Math.random()*g),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:c.color,shape:c.shape,tick:0,totalTicks:c.ticks,decay:c.decay,drift:c.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:c.gravity*3,ovalScalar:.6,scalar:c.scalar,flat:c.flat}}function _t(c,i){i.x+=Math.cos(i.angle2D)*i.velocity+i.drift,i.y+=Math.sin(i.angle2D)*i.velocity+i.gravity,i.velocity*=i.decay,i.flat?(i.wobble=0,i.wobbleX=i.x+10*i.scalar,i.wobbleY=i.y+10*i.scalar,i.tiltSin=0,i.tiltCos=0,i.random=1):(i.wobble+=i.wobbleSpeed,i.wobbleX=i.x+10*i.scalar*Math.cos(i.wobble),i.wobbleY=i.y+10*i.scalar*Math.sin(i.wobble),i.tiltAngle+=.1,i.tiltSin=Math.sin(i.tiltAngle),i.tiltCos=Math.cos(i.tiltAngle),i.random=Math.random()+2);var g=i.tick++/i.totalTicks,f=i.x+i.random*i.tiltCos,w=i.y+i.random*i.tiltSin,C=i.wobbleX+i.random*i.tiltCos,x=i.wobbleY+i.random*i.tiltSin;if(c.fillStyle="rgba("+i.color.r+", "+i.color.g+", "+i.color.b+", "+(1-g)+")",c.beginPath(),n&&i.shape.type==="path"&&typeof i.shape.path=="string"&&Array.isArray(i.shape.matrix))c.fill(kt(i.shape.path,i.shape.matrix,i.x,i.y,Math.abs(C-f)*.1,Math.abs(x-w)*.1,Math.PI/10*i.wobble));else if(i.shape.type==="bitmap"){var m=Math.PI/10*i.wobble,j=Math.abs(C-f)*.1,E=Math.abs(x-w)*.1,I=i.shape.bitmap.width*i.scalar,M=i.shape.bitmap.height*i.scalar,V=new DOMMatrix([Math.cos(m)*j,Math.sin(m)*j,-Math.sin(m)*E,Math.cos(m)*E,i.x,i.y]);V.multiplySelf(new DOMMatrix(i.shape.matrix));var L=c.createPattern(v.transform(i.shape.bitmap),"no-repeat");L.setTransform(V),c.globalAlpha=1-g,c.fillStyle=L,c.fillRect(i.x-I/2,i.y-M/2,I,M),c.globalAlpha=1}else if(i.shape==="circle")c.ellipse?c.ellipse(i.x,i.y,Math.abs(C-f)*i.ovalScalar,Math.abs(x-w)*i.ovalScalar,Math.PI/10*i.wobble,0,2*Math.PI):xt(c,i.x,i.y,Math.abs(C-f)*i.ovalScalar,Math.abs(x-w)*i.ovalScalar,Math.PI/10*i.wobble,0,2*Math.PI);else if(i.shape==="star")for(var _=Math.PI/2*3,$=4*i.scalar,W=8*i.scalar,D=i.x,N=i.y,X=5,F=Math.PI/X;X--;)D=i.x+Math.cos(_)*W,N=i.y+Math.sin(_)*W,c.lineTo(D,N),_+=F,D=i.x+Math.cos(_)*$,N=i.y+Math.sin(_)*$,c.lineTo(D,N),_+=F;else c.moveTo(Math.floor(i.x),Math.floor(i.y)),c.lineTo(Math.floor(i.wobbleX),Math.floor(w)),c.lineTo(Math.floor(C),Math.floor(x)),c.lineTo(Math.floor(f),Math.floor(i.wobbleY));return c.closePath(),c.fill(),i.tick<i.totalTicks}function St(c,i,g,f,w){var C=i.slice(),x=c.getContext("2d"),m,j,E=h(function(I){function M(){m=j=null,x.clearRect(0,0,f.width,f.height),v.clear(),w(),I()}function V(){r&&!(f.width===s.width&&f.height===s.height)&&(f.width=c.width=s.width,f.height=c.height=s.height),!f.width&&!f.height&&(g(c),f.width=c.width,f.height=c.height),x.clearRect(0,0,f.width,f.height),C=C.filter(function(L){return _t(x,L)}),C.length?m=b.frame(V):M()}m=b.frame(V),j=M});return{addFettis:function(I){return C=C.concat(I),E},canvas:c,promise:E,reset:function(){m&&b.cancel(m),j&&j()}}}function Re(c,i){var g=!c,f=!!k(i||{},"resize"),w=!1,C=k(i,"disableForReducedMotion",Boolean),x=a&&!!k(i||{},"useWorker"),m=x?y():null,j=g?bt:wt,E=c&&m?!!c.__confetti_initialized:!1,I=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,M;function V(_,$,W){for(var D=k(_,"particleCount",ut),N=k(_,"angle",Number),X=k(_,"spread",Number),F=k(_,"startVelocity",Number),Tt=k(_,"decay",Number),It=k(_,"gravity",Number),Vt=k(_,"drift",Number),De=k(_,"colors",ft),Lt=k(_,"ticks",Number),Oe=k(_,"shapes"),At=k(_,"scalar"),Bt=!!k(_,"flat"),Fe=vt(_),Ne=D,we=[],$t=c.width*Fe.x,Pt=c.height*Fe.y;Ne--;)we.push(jt({x:$t,y:Pt,angle:N,spread:X,startVelocity:F,color:De[Ne%De.length],shape:Oe[mt(0,Oe.length)],ticks:Lt,decay:Tt,gravity:It,drift:Vt,scalar:At,flat:Bt}));return M?M.addFettis(we):(M=St(c,we,j,$,W),M.promise)}function L(_){var $=C||k(_,"disableForReducedMotion",Boolean),W=k(_,"zIndex",Number);if($&&I)return h(function(F){F()});g&&M?c=M.canvas:g&&!c&&(c=Ct(W),document.body.appendChild(c)),f&&!E&&j(c);var D={width:c.width,height:c.height};m&&!E&&m.init(c),E=!0,m&&(c.__confetti_initialized=!0);function N(){if(m){var F={getBoundingClientRect:function(){if(!g)return c.getBoundingClientRect()}};j(F),m.postMessage({resize:{width:F.width,height:F.height}});return}D.width=D.height=null}function X(){M=null,f&&(w=!1,e.removeEventListener("resize",N)),g&&c&&(document.body.contains(c)&&document.body.removeChild(c),c=null,E=!1)}return f&&!w&&(w=!0,e.addEventListener("resize",N,!1)),m?m.fire(_,D,X):V(_,D,X)}return L.reset=function(){m&&m.reset(),M&&M.reset()},L}var be;function We(){return be||(be=Re(null,{useWorker:!0,resize:!0})),be}function kt(c,i,g,f,w,C,x){var m=new Path2D(c),j=new Path2D;j.addPath(m,new DOMMatrix(i));var E=new Path2D;return E.addPath(j,new DOMMatrix([Math.cos(x)*w,Math.sin(x)*w,-Math.sin(x)*C,Math.cos(x)*C,g,f])),E}function Et(c){if(!n)throw new Error("path confetti are not supported in this browser");var i,g;typeof c=="string"?i=c:(i=c.path,g=c.matrix);var f=new Path2D(i),w=document.createElement("canvas"),C=w.getContext("2d");if(!g){for(var x=1e3,m=x,j=x,E=0,I=0,M,V,L=0;L<x;L+=2)for(var _=0;_<x;_+=2)C.isPointInPath(f,L,_,"nonzero")&&(m=Math.min(m,L),j=Math.min(j,_),E=Math.max(E,L),I=Math.max(I,_));M=E-m,V=I-j;var $=10,W=Math.min($/M,$/V);g=[W,0,0,W,-Math.round(M/2+m)*W,-Math.round(V/2+j)*W]}return{type:"path",path:i,matrix:g}}function Mt(c){var i,g=1,f="#000000",w='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof c=="string"?i=c:(i=c.text,g="scalar"in c?c.scalar:g,w="fontFamily"in c?c.fontFamily:w,f="color"in c?c.color:f);var C=10*g,x=""+C+"px "+w,m=new OffscreenCanvas(C,C),j=m.getContext("2d");j.font=x;var E=j.measureText(i),I=Math.ceil(E.actualBoundingBoxRight+E.actualBoundingBoxLeft),M=Math.ceil(E.actualBoundingBoxAscent+E.actualBoundingBoxDescent),V=2,L=E.actualBoundingBoxLeft+V,_=E.actualBoundingBoxAscent+V;I+=V+V,M+=V+V,m=new OffscreenCanvas(I,M),j=m.getContext("2d"),j.font=x,j.fillStyle=f,j.fillText(i,L,_);var $=1/g;return{type:"bitmap",bitmap:m.transferToImageBitmap(),matrix:[$,0,0,$,-I*$/2,-M*$/2]}}t.exports=function(){return We().apply(this,arguments)},t.exports.reset=function(){We().reset()},t.exports.create=Re,t.exports.shapeFromPath=Et,t.exports.shapeFromText=Mt})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Me,!1);const Te=Me.exports;Me.exports.create;const Ie=()=>document.getElementById("confetti-canvas");function dr(){const o=Ie();if(!o)return;Te.create(o,{resize:!0,useWorker:!0})({particleCount:60,spread:70,origin:{y:.6},colors:["#6c63ff","#ff6b8a","#22c55e","#f59e0b","#3b82f6"],shapes:["circle","square"],gravity:1.2,scalar:.9})}function pr(){const o=Ie();if(!o)return;const e=Te.create(o,{resize:!0,useWorker:!0}),r=Date.now()+2e3,s=()=>{e({particleCount:4,angle:60,spread:55,origin:{x:0},colors:["#6c63ff","#ff6b8a","#f59e0b"]}),e({particleCount:4,angle:120,spread:55,origin:{x:1},colors:["#22c55e","#3b82f6","#a855f7"]}),Date.now()<r&&requestAnimationFrame(s)};s()}function hr(){const o=Ie();if(!o)return;const e=Te.create(o,{resize:!0,useWorker:!0});for(let t=0;t<3;t++)setTimeout(()=>{e({particleCount:40,startVelocity:30,spread:360,origin:{x:.2+Math.random()*.6,y:.9},colors:["#6c63ff","#ff6b8a","#22c55e","#f59e0b"],gravity:.8})},t*400)}const gr={c:"consonant",sv:"short-vowel",lv:"long-vowel",d:"digraph",bl:"blend",se:"silent-e",rc:"r-control",dp:"diphthong",sf:"suffix"},Ze={c:"consonant",sv:"short vowel",lv:"long vowel",d:"digraph",bl:"blend",se:"silent e",rc:"r-controlled",dp:"diphthong",sf:"suffix"};function q(o,e,t={}){const{showDiacritics:r=!0,showLabels:s=!1,hiddenIndices:a=[],revealedIndices:n=null}=t;e.innerHTML="";for(let l=0;l<o.graphemes.length;l++){const d=o.graphemes[l],h=o.types[l],v=a.includes(l),b=n===null||n.includes(l),y=document.createElement("div");y.className="phoneme-tile",y.setAttribute("role","listitem");const S=document.createElement("span");if(S.className=`phoneme-symbol phoneme-symbol--${gr[h]||"consonant"}`,v?(S.textContent="?",S.classList.add("phoneme-symbol--hidden"),S.setAttribute("aria-label","missing sound")):b?(S.textContent=d,S.setAttribute("aria-label",`${d}, ${Ze[h]||h}`)):(S.textContent="â€¢",S.classList.add("phoneme-symbol--unrevealed"),S.setAttribute("aria-label","unrevealed sound")),y.appendChild(S),r&&b&&!v){const Y=d.toLowerCase().replace("ee","e").replace("ay","a"),re=Ut[Y];if(re){const k=document.createElement("span");k.className="phoneme-diacritic",h==="sv"?k.textContent=re.sv:h==="lv"&&(k.textContent=re.lv),k.textContent&&y.appendChild(k)}}if(s&&b&&!v){const Y=document.createElement("span");Y.className="phoneme-label",Y.textContent=Ze[h]||"",y.appendChild(Y)}b&&!v&&(y.style.animationDelay=`${l*100}ms`),e.appendChild(y)}}function ee(o,e,t=!0){if(!e)return;e.textContent=t?o.emoji:"";const r=e.closest(".word-image-wrap");r&&(r.style.display=t?"":"none")}let Ve=null,H=0,ne=0,le=!1;function ur(o,e){var t;Ve=o,H=0,ne=Date.now(),le=!1,ee(o,e.wordEmoji,!0),e.modeInstruction.textContent="Listen to each sound, then blend them together!",q(o,e.phonemeRow,{showDiacritics:!0,revealedIndices:[]}),e.modeArea.innerHTML=`
    <div style="display:flex; flex-direction:column; align-items:center; gap:var(--space-4);">
      <button class="btn btn--primary btn--xl" id="btn-reveal-next" aria-label="Reveal next sound">
        Reveal Sound ğŸ”Š
      </button>
      <div class="blend-progress" aria-live="polite" id="blend-progress">
        Sound 0 of ${o.graphemes.length}
      </div>
    </div>
  `,e.btnCheck.style.display="none",e.btnSayIt.style.display="none",e.btnSkip.style.display="",(t=document.getElementById("btn-reveal-next"))==null||t.addEventListener("click",()=>{_e(o,e)}),p.get("autoplay")&&setTimeout(()=>_e(o,e),600)}async function _e(o,e){if(le||H>=o.graphemes.length)return;le=!0,H++;const t=Array.from({length:H},(a,n)=>n);q(o,e.phonemeRow,{showDiacritics:!0,revealedIndices:t});const r=H-1;await T.speakPhoneme(o.graphemes[r],o.types[r]);const s=document.getElementById("blend-progress");s&&(s.textContent=`Sound ${H} of ${o.graphemes.length}`),H>=o.graphemes.length&&await mr(o,e),le=!1,p.get("autoplay")&&H<o.graphemes.length&&setTimeout(()=>_e(o,e),400)}async function mr(o,e){var t,r;pe(o,e.wordDisplay,s=>{T.playSfx("pop")}),q(o,e.phonemeRow,{showDiacritics:!0,showLabels:!0,revealedIndices:null}),await new Promise(s=>setTimeout(s,600)),await T.speakWord(o.word),e.modeArea.innerHTML=`
    <div style="display:flex; flex-direction:column; align-items:center; gap:var(--space-4);">
      <p style="font-size:var(--font-size-lg); font-weight:700; color:var(--text);">
        Did you blend it right?
      </p>
      <div style="display:flex; gap:var(--space-4);">
        <button class="btn btn--success btn--xl" id="btn-self-yes" aria-label="Yes, I got it!">
          Yes! âœ“
        </button>
        <button class="btn btn--ghost btn--xl" id="btn-self-no" aria-label="Not quite, try again">
          Not yet
        </button>
      </div>
    </div>
  `,e.btnSayIt.style.display="",ne=Date.now()-ne,(t=document.getElementById("btn-self-yes"))==null||t.addEventListener("click",()=>{e.onResult(!0,ne)}),(r=document.getElementById("btn-self-no"))==null||r.addEventListener("click",()=>{e.onResult(!1,ne)})}function fr(){return Ve}function yr(){Ve=null,H=0,le=!1}let Le=null,ce=!1,Se=0;function vr(o,e){Le=o,ce=!1,Se=Date.now(),ee(o,e.wordEmoji,!0),e.modeInstruction.textContent="Listen to each sound â€” then blend!",q(o,e.phonemeRow,{showDiacritics:!0,showLabels:!0,revealedIndices:null}),ot(e,o),e.btnCheck.style.display="none",e.btnSayIt.style.display="none",e.btnSkip.style.display="",p.get("autoplay")&&setTimeout(()=>ke(o,e),500)}function br(){const o=p.get("currentGroup")||"",e=o?"":"selected",t=(r,s)=>`<option value="${r}" ${o===r?"selected":""}>${s.icon} ${s.label}</option>`;return[`<option value="" ${e}>ğŸ”¤ All Words</option>`,'<optgroup label="â”€â”€ By Vowel Sound â”€â”€">',...ye.map(r=>t(r,z[r])),"</optgroup>",'<optgroup label="â”€â”€ By Word Pattern â”€â”€">',...Xt.map(r=>t(r,z[r])),"</optgroup>",'<optgroup label="â”€â”€ By Suffix â”€â”€">',...Kt.map(r=>t(r,z[r])),"</optgroup>"].join("")}function ot(o,e,t=!1){var r,s,a,n,l;o.modeArea.innerHTML=`
    <div class="classic-blend-wrap">

      <!-- Category selector -->
      <div class="category-row">
        <label class="category-label" for="classic-group-select">Category:</label>
        <select id="classic-group-select" class="category-select" aria-label="Choose word category">
          ${br()}
        </select>
      </div>

      <!-- Play buttons -->
      <div class="classic-btn-row">
        <button class="btn btn--primary btn--xl" id="btn-classic-play" aria-label="Play all sounds">
          â–¶ Play Sounds
        </button>
        ${t?`
        <button class="btn btn--ghost btn--xl" id="btn-classic-again" aria-label="Play again">
          ğŸ” Again
        </button>
        `:""}
      </div>

      <!-- Self-assessment (after first play) -->
      ${t?`
      <div class="classic-assess-row">
        <button class="btn btn--success btn--xl" id="btn-self-yes" aria-label="Yes, I blended it!">
          Yes! âœ“
        </button>
        <button class="btn btn--ghost btn--xl" id="btn-self-no" aria-label="Not quite yet">
          Not yet
        </button>
      </div>
      `:""}

    </div>
  `,(r=document.getElementById("classic-group-select"))==null||r.addEventListener("change",d=>{var v;const h=d.target.value||null;p.set("currentGroup",h),(v=o.onGroupChange)==null||v.call(o,h)}),(s=document.getElementById("btn-classic-play"))==null||s.addEventListener("click",()=>{ke(e,o)}),(a=document.getElementById("btn-classic-again"))==null||a.addEventListener("click",()=>{ke(e,o)}),(n=document.getElementById("btn-self-yes"))==null||n.addEventListener("click",()=>{o.onResult(!0,Date.now()-Se)}),(l=document.getElementById("btn-self-no"))==null||l.addEventListener("click",()=>{o.onResult(!1,Date.now()-Se)})}async function ke(o,e){if(ce)return;ce=!0;const t=e.phonemeRow.querySelectorAll(".phoneme-tile");for(let r=0;r<o.graphemes.length;r++)t.forEach((s,a)=>s.classList.toggle("active",a===r)),await T.speakPhoneme(o.graphemes[r],o.types[r]),await Je(300);t.forEach(r=>r.classList.remove("active")),await Je(300),await T.speakWord(o.word),ce=!1,ot(e,o,!0),e.btnSayIt.style.display=""}const Je=o=>new Promise(e=>setTimeout(e,o));function wr(){return Le}function Cr(){Le=null,ce=!1}let Ae=null,ue=!1,at=0;function xr(o,e){Ae=o,ue=!1,at=Date.now(),ee(o,e.wordEmoji,!1),e.wordDisplay.innerHTML="",e.phonemeRow.innerHTML="",e.modeInstruction.textContent="Listen to the word, then pick the right one!";const t=Yt(o,3),r=Q([o,...t]);e.modeArea.innerHTML='<div class="choice-grid"></div>';const s=e.modeArea.querySelector(".choice-grid");for(const a of r){const n=document.createElement("button");n.className="choice-btn",n.textContent=a.word,n.dataset.wordId=a.id,n.setAttribute("aria-label",`Choose ${a.word}`),n.addEventListener("click",()=>jr(a,n,o,e,s)),s.appendChild(n)}e.btnSayIt.style.display="",e.btnCheck.style.display="none",e.btnSkip.style.display="",setTimeout(()=>T.speakWord(o.word),400)}function jr(o,e,t,r,s){if(ue)return;ue=!0;const a=Date.now()-at,n=o.id===t.id;s.querySelectorAll(".choice-btn").forEach(l=>{l.disabled=!0,l.dataset.wordId===t.id&&l.classList.add("correct")}),n||e.classList.add("wrong"),ee(t,r.wordEmoji,!0),pe(t,r.wordDisplay),q(t,r.phonemeRow,{showDiacritics:!0}),setTimeout(()=>T.speakWord(t.word),500),setTimeout(()=>{r.onResult(n,a)},n?800:1500)}function _r(){return Ae}function Sr(){Ae=null,ue=!1}let Be=null,P=[],U=[],nt=0;function kr(o,e){Be=o,P=[],U=[],nt=Date.now(),ee(o,e.wordEmoji,!0),pe(o,e.wordDisplay),e.phonemeRow.innerHTML="",e.modeInstruction.textContent="Tap letters that go together to make each sound!";const t=o.word.split("");e.modeArea.innerHTML=`
    <div class="segment-word" id="segment-letters" aria-label="Tap letters to group them into sounds"></div>
    <div class="segment-targets" id="segment-targets" aria-label="Sound groups found"></div>
  `;const r=document.getElementById("segment-letters"),s=document.getElementById("segment-targets");for(let a=0;a<o.graphemes.length;a++){const n=document.createElement("div");n.className="segment-slot",n.dataset.index=a,n.setAttribute("aria-label",`Sound ${a+1}`),s.appendChild(n)}t.forEach((a,n)=>{const l=document.createElement("button");l.className="segment-btn",l.textContent=a,l.dataset.index=n,l.setAttribute("aria-label",`Letter ${a}`),l.addEventListener("click",()=>Er(n,a,l,o,e)),r.appendChild(l)}),e.btnCheck.style.display="",e.btnCheck.onclick=()=>Mr(o,e),e.btnSayIt.style.display="",e.btnSkip.style.display="",setTimeout(()=>T.speakWord(o.word),400)}function Er(o,e,t,r,s){t.classList.contains("selected")?(t.classList.remove("selected"),P=P.filter(l=>l.index!==o)):(t.classList.add("selected"),P.push({index:o,letter:e}),P.sort((l,d)=>l.index-d.index));const a=P.map(l=>l.letter).join(""),n=r.graphemes[U.length];n&&a===n&&it(r,s)}function it(o,e){if(P.length===0)return;const t=P.map(s=>s.letter).join(""),r=o.graphemes[U.length];if(t===r){U.push(t);const s=document.getElementById("segment-letters");P.forEach(d=>{const h=s.querySelectorAll(".segment-btn");h[d.index].classList.remove("selected"),h[d.index].classList.add("matched"),h[d.index].disabled=!0});const n=document.querySelectorAll(".segment-slot")[U.length-1];n&&(n.textContent=t,n.classList.add("filled"));const l=U.length-1;T.speakPhoneme(o.graphemes[l],o.types[l]),P=[],U.length===o.graphemes.length&&Tr(o,e)}else{const s=document.getElementById("segment-letters");P.forEach(a=>{const n=s.querySelectorAll(".segment-btn");n[a.index].classList.add("wrong"),n[a.index].classList.remove("selected"),setTimeout(()=>n[a.index].classList.remove("wrong"),500)}),P=[]}}function Mr(o,e){P.length>0&&it(o,e)}function Tr(o,e){const t=Date.now()-nt;q(o,e.phonemeRow,{showDiacritics:!0,showLabels:!0}),setTimeout(()=>T.speakWord(o.word),300),setTimeout(()=>{e.onResult(!0,t)},1e3)}function Ir(){return Be}function Vr(){Be=null,P=[],U=[]}let $e=null,R=-1,me=!1,lt=0;function Lr(o,e){$e=o,me=!1,lt=Date.now();const t=o.types.map((v,b)=>v==="sv"||v==="lv"?b:-1).filter(v=>v>=0);t.length>0?R=t[Math.floor(Math.random()*t.length)]:R=Math.floor(Math.random()*o.graphemes.length),o.types[R]==="se"&&o.graphemes.length>1&&(R=0),ee(o,e.wordEmoji,!0);const r=e.wordDisplay;r.innerHTML="",o.graphemes.forEach((v,b)=>{const y=document.createElement("div"),S={c:"consonant",sv:"short-vowel",lv:"long-vowel",d:"digraph",bl:"blend",se:"silent-e",rc:"r-control"}[o.types[b]]||"consonant";y.className=`letter-tile letter-tile--${S}`,y.textContent=b===R?"?":v,b===R&&(y.style.background="var(--border)",y.style.color="var(--text-muted)",y.style.fontSize="var(--font-size-3xl)"),r.appendChild(y)}),q(o,e.phonemeRow,{showDiacritics:!0,hiddenIndices:[R]}),e.modeInstruction.textContent="Which sound is missing?";const s=o.graphemes[R],a=o.types[R],n=Br(s,a),l=Q(n).slice(0,3),d=Q([{grapheme:s,type:a,correct:!0},...l.map(v=>({grapheme:v,type:a,correct:!1}))]);e.modeArea.innerHTML='<div class="choice-grid"></div>';const h=e.modeArea.querySelector(".choice-grid");for(const v of d){const b=document.createElement("button");b.className="choice-btn",b.textContent=v.grapheme,b.dataset.correct=v.correct,b.setAttribute("aria-label",`Choose ${v.grapheme}`),b.addEventListener("click",()=>Ar(v,b,o,e,h)),h.appendChild(b)}e.btnCheck.style.display="none",e.btnSayIt.style.display="",e.btnSkip.style.display="",setTimeout(()=>T.speakWord(o.word),400)}function Ar(o,e,t,r,s){if(me)return;me=!0;const a=Date.now()-lt;s.querySelectorAll(".choice-btn").forEach(n=>{n.disabled=!0,n.dataset.correct==="true"&&n.classList.add("correct")}),o.correct||e.classList.add("wrong"),pe(t,r.wordDisplay),q(t,r.phonemeRow,{showDiacritics:!0,showLabels:!0}),setTimeout(async()=>{await T.speakPhoneme(t.graphemes[R],t.types[R]),await new Promise(n=>setTimeout(n,300)),await T.speakWord(t.word)},300),setTimeout(()=>{r.onResult(o.correct,a)},o.correct?800:1500)}function Br(o,e){const t=new Set;for(const r of B)for(let s=0;s<r.graphemes.length;s++)r.types[s]===e&&r.graphemes[s]!==o&&t.add(r.graphemes[s]);return Array.from(t)}function $r(){return $e}function Pr(){$e=null,R=-1,me=!1}let Pe=null,fe=!1,ct=0;function Gr(o,e){Pe=o,fe=!1,ct=Date.now(),ee(o,e.wordEmoji,!0),e.wordDisplay.innerHTML="",e.phonemeRow.innerHTML="",e.modeInstruction.textContent="What sound does this word start with?";const t=o.graphemes[0],r=o.types[0],s=Wr(t),a=Q(s).slice(0,3),n=Q([{grapheme:t,type:r,correct:!0},...a.map(d=>({grapheme:d.grapheme,type:d.type,correct:!1}))]);e.modeArea.innerHTML='<div class="choice-grid"></div>';const l=e.modeArea.querySelector(".choice-grid");for(const d of n){const h=document.createElement("button");h.className="choice-btn",h.textContent=d.grapheme.toUpperCase(),h.dataset.correct=d.correct,h.setAttribute("aria-label",`Choose ${d.grapheme}`),h.addEventListener("mouseenter",()=>{T.speakPhoneme(d.grapheme,d.type)}),h.addEventListener("click",()=>Rr(d,h,o,e,l)),l.appendChild(h)}e.btnCheck.style.display="none",e.btnSayIt.style.display="",e.btnSkip.style.display="",setTimeout(()=>T.speakWord(o.word),400)}function Rr(o,e,t,r,s){if(fe)return;fe=!0;const a=Date.now()-ct;s.querySelectorAll(".choice-btn").forEach(n=>{n.disabled=!0,n.dataset.correct==="true"&&n.classList.add("correct")}),o.correct||e.classList.add("wrong"),pe(t,r.wordDisplay),q(t,r.phonemeRow,{showDiacritics:!0,showLabels:!0}),setTimeout(async()=>{await T.speakPhoneme(t.graphemes[0],t.types[0]),await new Promise(n=>setTimeout(n,300)),await T.speakWord(t.word)},300),setTimeout(()=>{r.onResult(o.correct,a)},o.correct?800:1500)}function Wr(o,e){const t=new Set([o]),r=[];for(const s of Q(B)){const a=s.graphemes[0],n=s.types[0];if(!t.has(a)&&(t.add(a),r.push({grapheme:a,type:n}),r.length>=6))break}return r}function Dr(){return Pe}function Or(){Pe=null,fe=!1}const Qe={blend:{key:"blend",name:"Blend It!",icon:"ğŸ¯",setup:ur,cleanup:yr,getCurrentWord:fr},classicBlend:{key:"classicBlend",name:"Listen & Blend",icon:"ğŸ”Š",setup:vr,cleanup:Cr,getCurrentWord:wr},hear:{key:"hear",name:"Hear & Choose",icon:"ğŸ‘‚",setup:xr,cleanup:Sr,getCurrentWord:_r},segment:{key:"segment",name:"Segment It",icon:"âœ‚ï¸",setup:kr,cleanup:Vr,getCurrentWord:Ir},missing:{key:"missing",name:"Missing Sound",icon:"ğŸ”",setup:Lr,cleanup:Pr,getCurrentWord:$r},first:{key:"first",name:"First Sound",icon:"ğŸš€",setup:Gr,cleanup:Or,getCurrentWord:Dr}},u="Puff puff puff! Ears wiggle!",Ee=[{level:1,label:"Tiny Steams",targetSounds:"Short a Â· e Â· i Â· o Â· u",prop:"ğŸ© Red Hat",color:"#ef4444",bg:"#fee2e2",mascotState:"holdCard"},{level:2,label:"Rising Steams",targetSounds:"a-e Â· i-e Â· o-e Â· ai Â· ay Â· ee Â· oa",prop:"ğŸ‚ Big Cake",color:"#f97316",bg:"#ffedd5",mascotState:"celebrate"},{level:3,label:"Wild Steams",targetSounds:"ar Â· or Â· er Â· ir Â· ur + digraphs",prop:"â­ Shiny Star",color:"#8b5cf6",bg:"#f3e8ff",mascotState:"thinking"},{level:4,label:"Grand Steams",targetSounds:"oi Â· oy Â· ou Â· ow Â· au Â· aw Â· air Â· are Â· ear",prop:"ğŸ Rare Pear",color:"#0d9488",bg:"#ccfbf1",mascotState:"trophy"}],dt=[{id:"giri-red-hat",title:"Giri's Red Hat",level:1,emoji:"ğŸ©",mascotState:"holdCard",lines:[{type:"intro",text:"Giri sat in the hot pot. The red hat sat on top."},{type:"label",text:"Problem:"},{type:"beat",text:"The red hat slid off."},{type:"label",text:"Attempt:"},{type:"beat",text:"Giri put the red hat on."},{type:"label",text:"Setback:"},{type:"beat",text:"The red hat slid off."},{type:"label",text:"Solution:"},{type:"beat",text:"Giri sat on the mat and held the red hat."},{type:"refrain",text:u},{type:"refrain",text:u},{type:"refrain",text:u},{type:"end",text:"Giri felt glad."}]},{id:"giri-and-the-pot",title:"Giri and the Pot",level:1,emoji:"ğŸ²",mascotState:"encourage",lines:[{type:"intro",text:"Giri had a big pot on the mat."},{type:"label",text:"Problem:"},{type:"beat",text:"The big pot tipped."},{type:"label",text:"Attempt:"},{type:"beat",text:"Giri ran to the big pot."},{type:"label",text:"Setback:"},{type:"beat",text:"The big pot tipped and got the mat wet."},{type:"label",text:"Solution:"},{type:"beat",text:"Giri sat in the big pot."},{type:"refrain",text:u},{type:"refrain",text:u},{type:"refrain",text:u},{type:"end",text:"Giri felt glad."}]},{id:"giri-and-the-bun",title:"Giri and the Bun",level:1,emoji:"ğŸ",mascotState:"neutral",lines:[{type:"intro",text:"Giri met a fat bun on the rug."},{type:"label",text:"Problem:"},{type:"beat",text:"The fat bun ran off."},{type:"label",text:"Attempt:"},{type:"beat",text:"Giri ran to the fat bun."},{type:"label",text:"Setback:"},{type:"beat",text:"The fat bun ran."},{type:"label",text:"Solution:"},{type:"beat",text:"Giri sat on the rug. The fat bun sat too."},{type:"refrain",text:u},{type:"refrain",text:u},{type:"refrain",text:u},{type:"end",text:"Giri felt glad."}]},{id:"giri-gets-wet",title:"Giri Gets Wet",level:1,emoji:"ğŸ’§",mascotState:"encourage",lines:[{type:"intro",text:"Giri ran to the sink. The sink had suds."},{type:"label",text:"Problem:"},{type:"beat",text:"The suds got Giri wet."},{type:"label",text:"Attempt:"},{type:"beat",text:"Giri ran off the sink."},{type:"label",text:"Setback:"},{type:"beat",text:"The suds got the red hat wet."},{type:"label",text:"Solution:"},{type:"beat",text:"The fan spun. The fan made Giri dry."},{type:"refrain",text:u},{type:"refrain",text:u},{type:"refrain",text:u},{type:"end",text:"Giri sat on the mat and felt glad."}]},{id:"giri-bakes-a-cake",title:"Giri Bakes a Cake",level:2,emoji:"ğŸ‚",mascotState:"holdCard",lines:[{type:"intro",text:"Giri had a big cake to bake."},{type:"label",text:"Problem:"},{type:"beat",text:"The cake did not rise."},{type:"label",text:"Attempt:"},{type:"beat",text:"Giri put the cake in the pan."},{type:"label",text:"Setback:"},{type:"beat",text:"The cake stayed flat."},{type:"label",text:"Solution:"},{type:"beat",text:"Giri made the cake rise by the lake."},{type:"refrain",text:u},{type:"refrain",text:u},{type:"refrain",text:u},{type:"end",text:"Giri and the bun ate the big cake and felt glad."}]},{id:"giri-and-the-speedy-boat",title:"Giri and the Speedy Boat",level:2,emoji:"â›µ",mascotState:"celebrate",lines:[{type:"intro",text:"Giri had a speedy boat on the lake."},{type:"label",text:"Problem:"},{type:"beat",text:"The boat did not go fast."},{type:"label",text:"Attempt:"},{type:"beat",text:"Giri made the boat go."},{type:"label",text:"Setback:"},{type:"beat",text:"The oar fell in the lake."},{type:"label",text:"Solution:"},{type:"beat",text:"Giri and the bun played and the boat went fast."},{type:"refrain",text:u},{type:"refrain",text:u},{type:"refrain",text:u},{type:"end",text:"Giri felt glad."}]},{id:"giri-helps-the-bee",title:"Giri Helps the Bee",level:2,emoji:"ğŸ",mascotState:"pointRight",lines:[{type:"intro",text:"Giri met a bee by the tree."},{type:"label",text:"Problem:"},{type:"beat",text:"The bee lost its way."},{type:"label",text:"Attempt:"},{type:"beat",text:"Giri took the bee to the big tree."},{type:"label",text:"Setback:"},{type:"beat",text:"The bee still felt sad."},{type:"label",text:"Solution:"},{type:"beat",text:"Giri gave the bee a sweet treat."},{type:"refrain",text:u},{type:"refrain",text:u},{type:"refrain",text:u},{type:"end",text:"Giri felt glad."}]},{id:"giris-big-day",title:"Giri's Big Day",level:2,emoji:"ğŸ¡",mascotState:"clap",lines:[{type:"intro",text:"Giri went to the fair with the big cake."},{type:"label",text:"Problem:"},{type:"beat",text:"The big cake got hot."},{type:"label",text:"Attempt:"},{type:"beat",text:"Giri hid the big cake in the shade."},{type:"label",text:"Setback:"},{type:"beat",text:"The big cake got soft."},{type:"label",text:"Solution:"},{type:"beat",text:"Giri and the bun ate the big cake fast."},{type:"refrain",text:u},{type:"refrain",text:u},{type:"refrain",text:u},{type:"end",text:"Giri felt glad."}]},{id:"giri-and-the-big-storm",title:"Giri and the Big Storm",level:3,emoji:"â›ˆï¸",mascotState:"thinking",lines:[{type:"intro",text:"Giri saw a big storm."},{type:"label",text:"Problem:"},{type:"beat",text:"The wind took the shiny star."},{type:"label",text:"Attempt:"},{type:"beat",text:"Giri ran to the barn."},{type:"label",text:"Setback:"},{type:"beat",text:"The rain made the barn wet."},{type:"label",text:"Solution:"},{type:"beat",text:"Giri sat in the barn with the shiny star."},{type:"refrain",text:u},{type:"refrain",text:u},{type:"refrain",text:u},{type:"end",text:"Giri felt glad."}]},{id:"giri-finds-a-star",title:"Giri Finds a Star",level:3,emoji:"â­",mascotState:"celebrate",lines:[{type:"intro",text:"Giri walked at night."},{type:"label",text:"Problem:"},{type:"beat",text:"The shiny star fell down."},{type:"label",text:"Attempt:"},{type:"beat",text:"Giri ran to pick the shiny star up."},{type:"label",text:"Setback:"},{type:"beat",text:"The shiny star hid in the grass."},{type:"label",text:"Solution:"},{type:"beat",text:"Giri and the bird sat by the river and the shiny star shone."},{type:"refrain",text:u},{type:"refrain",text:u},{type:"refrain",text:u},{type:"end",text:"Giri felt glad."}]},{id:"giri-and-the-clever-bird",title:"Giri and the Clever Bird",level:3,emoji:"ğŸ¦",mascotState:"pointLeft",lines:[{type:"intro",text:"A bird sat on the branch."},{type:"label",text:"Problem:"},{type:"beat",text:"Giri lost the shiny star."},{type:"label",text:"Attempt:"},{type:"beat",text:"The bird flew to help."},{type:"label",text:"Setback:"},{type:"beat",text:"The bird could not see the shiny star."},{type:"label",text:"Solution:"},{type:"beat",text:"Giri and the bird went over the farm and got the shiny star."},{type:"refrain",text:u},{type:"refrain",text:u},{type:"refrain",text:u},{type:"end",text:"Giri felt glad."}]},{id:"giri-at-the-market",title:"Giri at the Market",level:3,emoji:"ğŸª",mascotState:"whiteboard",lines:[{type:"intro",text:"Giri went to the market."},{type:"label",text:"Problem:"},{type:"beat",text:"The shiny star rolled away."},{type:"label",text:"Attempt:"},{type:"beat",text:"Giri ran after the shiny star."},{type:"label",text:"Setback:"},{type:"beat",text:"The shiny star went under a cart."},{type:"label",text:"Solution:"},{type:"beat",text:"A kind man helped. Giri got the shiny star back."},{type:"refrain",text:u},{type:"refrain",text:u},{type:"refrain",text:u},{type:"end",text:"Giri felt glad."}]},{id:"giri-at-the-fair",title:"Giri at the Fair",level:4,emoji:"ğŸ¡",mascotState:"celebrate",lines:[{type:"intro",text:"Giri saw a pair of chairs at the fair."},{type:"label",text:"Problem:"},{type:"beat",text:"One chair had a big tear."},{type:"label",text:"Attempt:"},{type:"beat",text:"Giri tried to sit on the chair."},{type:"label",text:"Setback:"},{type:"beat",text:"The chair broke and made a big noise."},{type:"label",text:"Solution:"},{type:"beat",text:"Giri made the pair of chairs safe with care."},{type:"refrain",text:u},{type:"refrain",text:u},{type:"refrain",text:u},{type:"end",text:"Giri felt glad."}]},{id:"giri-and-the-joyful-noise",title:"Giri and the Joyful Noise",level:4,emoji:"ğŸ¶",mascotState:"clap",lines:[{type:"intro",text:"Giri heard a joyful noise."},{type:"label",text:"Problem:"},{type:"beat",text:"The noise came from far."},{type:"label",text:"Attempt:"},{type:"beat",text:"Giri ran near the noise."},{type:"label",text:"Setback:"},{type:"beat",text:"The noise got too loud."},{type:"label",text:"Solution:"},{type:"beat",text:"Giri made the joyful noise with all his friends."},{type:"refrain",text:u},{type:"refrain",text:u},{type:"refrain",text:u},{type:"end",text:"Giri felt glad."}]},{id:"giri-repairs-the-chair",title:"Giri Repairs the Chair",level:4,emoji:"ğŸª‘",mascotState:"thinking",lines:[{type:"intro",text:"The old chair had a big tear."},{type:"label",text:"Problem:"},{type:"beat",text:"The chair could not be sat on."},{type:"label",text:"Attempt:"},{type:"beat",text:"Giri took glue to fix the tear."},{type:"label",text:"Setback:"},{type:"beat",text:"The glue made the tear bigger."},{type:"label",text:"Solution:"},{type:"beat",text:"Giri used a pair of pliers with care and fixed the chair."},{type:"refrain",text:u},{type:"refrain",text:u},{type:"refrain",text:u},{type:"end",text:"Giri felt glad."}]},{id:"giri-hears-a-cheer",title:"Giri Hears a Cheer",level:4,emoji:"ğŸ‰",mascotState:"confetti",lines:[{type:"intro",text:"One clear day Giri sat near the big steamer."},{type:"label",text:"Problem:"},{type:"beat",text:'He felt a little fear. "Where are my dear friends?"'},{type:"label",text:"Attempt:"},{type:"beat",text:"Giri ran to look near the pier."},{type:"label",text:"Setback:"},{type:"beat",text:"No one came and a tear came to his eye."},{type:"label",text:"Solution:"},{type:"beat",text:"He heard a big cheer! All his friends came with a rare pear cake."},{type:"refrain",text:u},{type:"refrain",text:u},{type:"refrain",text:u},{type:"end",text:"Giri shared the rare pear cake and felt glad. This is the best day of the year!"}]}],Fr="/blending/";function pt(o){const e={neutral:"giri-neutral.png",celebrate:"giri-celebrate.png",confetti:"giri-celebrate-confetti.png",clap:"giri-clap-frame.png",encourage:"giri-encourage.png",holdCard:"giri-hold-card.png",pointLeft:"giri-point-left.png",pointRight:"giri-point-right.png",thinking:"giri-thinking.png",trophy:"giri-trophy.png",whiteboard:"giri-whiteboard.png"};return`${Fr}images/mascot/${e[o]??e.neutral}`}let A=null,ae=1,de=!1;function Nr(o,e){A=o}function Hr(){te(),Ge()}function qr(){te()}function Ge(){const o=Ee[ae-1],e=dt.filter(s=>s.level===ae),t=Ee.map(s=>`
    <button
      class="story-tab${s.level===ae?" active":""}"
      data-level="${s.level}"
      style="--tab-color:${s.color}"
    >
      <span class="story-tab-num">L${s.level}</span>
      <span class="story-tab-name">${s.label}</span>
    </button>
  `).join(""),r=e.map(s=>`
    <button class="story-card" data-story-id="${s.id}">
      <div class="story-card-illo" style="background:${o.bg}">
        <img
          src="${pt(s.mascotState)}"
          alt="Giri"
          class="story-card-mascot"
          draggable="false"
        />
        <span class="story-card-prop">${s.emoji}</span>
      </div>
      <span class="story-card-title">${s.title}</span>
      <span class="story-card-level" style="color:${o.color}">Level ${s.level}</span>
    </button>
  `).join("");A.innerHTML=`
    <div class="stories-browser">
      <div class="stories-tabs" role="tablist" aria-label="Story levels">
        ${t}
      </div>
      <div
        class="stories-level-strip"
        style="--level-color:${o.color};--level-bg:${o.bg}"
      >
        <span class="slstrip-label">Level ${ae}</span>
        <span class="slstrip-name">${o.label}</span>
        <span class="slstrip-sounds">${o.targetSounds}</span>
        <span class="slstrip-prop">${o.prop}</span>
      </div>
      <div class="story-cards-grid">
        ${r}
      </div>
    </div>
  `,A.querySelectorAll(".story-tab").forEach(s=>{s.addEventListener("click",()=>{ae=parseInt(s.dataset.level,10),Ge()})}),A.querySelectorAll(".story-card").forEach(s=>{s.addEventListener("click",()=>Ur(s.dataset.storyId))})}function Ur(o){const e=dt.find(t=>t.id===o);e&&(te(),zr(e))}function zr(o){var r,s,a;const e=Ee[o.level-1],t=o.lines.map((n,l)=>{switch(n.type){case"label":return`<div class="sline sline--label" data-line="${l}">${n.text}</div>`;case"beat":return`<p class="sline sline--beat" data-line="${l}">${n.text}</p>`;case"intro":return`<p class="sline sline--intro" data-line="${l}">${n.text}</p>`;case"refrain":return`<div class="sline sline--refrain" data-line="${l}">ğŸ«§ ${n.text}</div>`;case"end":return`<p class="sline sline--end" data-line="${l}">${n.text}</p>`;default:return`<p class="sline" data-line="${l}">${n.text}</p>`}}).join("");A.innerHTML=`
    <div class="story-reader">

      <!-- Illustration header -->
      <div class="story-illo" style="--level-color:${e.color};--level-bg:${e.bg}">
        <img
          src="${pt(o.mascotState)}"
          alt="Giri â€” ${o.title}"
          class="story-illo-mascot"
          draggable="false"
        />
        <span class="story-illo-prop">${o.emoji}</span>
        <div class="story-illo-steam">
          <span></span><span></span><span></span>
        </div>
      </div>

      <!-- Meta bar -->
      <div class="story-meta-bar" style="--level-color:${e.color}">
        <button class="btn btn--ghost story-lib-btn" id="btn-reader-back">
          â† Library
        </button>
        <span class="story-meta-badge">Level ${o.level} Â· ${e.label}</span>
      </div>

      <!-- Title -->
      <h2 class="story-reader-title">${o.title}</h2>

      <!-- Story body -->
      <div class="story-body" id="story-body" aria-live="polite">
        ${t}
      </div>

      <!-- TTS controls -->
      <div class="story-tts-bar">
        <button class="btn btn--primary btn--xl" id="btn-story-play" aria-label="Read story aloud">
          â–¶ Read Aloud
        </button>
        <button class="btn btn--ghost btn--xl" id="btn-story-stop" style="display:none" aria-label="Stop reading">
          â¹ Stop
        </button>
      </div>

    </div>
  `,(r=document.getElementById("btn-reader-back"))==null||r.addEventListener("click",()=>{te(),Ge()}),(s=document.getElementById("btn-story-play"))==null||s.addEventListener("click",()=>{Xr(o)}),(a=document.getElementById("btn-story-stop"))==null||a.addEventListener("click",()=>{te()})}function Yr(o){const e=[],t=o.lines;let r=0;for(;r<t.length;){const s=t[r];if(s.type==="label"){const a=t[r+1];if(a&&a.type==="beat"){e.push({text:`${s.text} ${a.text}`,highlightIdx:r+1}),r+=2;continue}r++;continue}e.push({text:s.text,highlightIdx:r}),r++}return e}function Xr(o){if(!window.speechSynthesis)return;te();const e=document.getElementById("btn-story-play"),t=document.getElementById("btn-story-stop");e&&(e.style.display="none"),t&&(t.style.display=""),de=!0;const r=Yr(o);ht(r,0)}function ht(o,e){if(!de||e>=o.length){et();return}const t=o[e];Kr(t.highlightIdx);const r=new SpeechSynthesisUtterance(t.text);r.rate=.82,r.lang="en-GB";const s=t.text.startsWith("Puff")?600:380;r.onend=()=>{de&&setTimeout(()=>ht(o,e+1),s)},r.onerror=()=>et(),window.speechSynthesis.speak(r)}function Kr(o){A==null||A.querySelectorAll(".sline--active").forEach(t=>{t.classList.remove("sline--active")});const e=A==null?void 0:A.querySelector(`[data-line="${o}"]`);e&&(e.classList.add("sline--active"),e.scrollIntoView({behavior:"smooth",block:"nearest"}))}function te(){de=!1,window.speechSynthesis&&window.speechSynthesis.cancel(),A==null||A.querySelectorAll(".sline--active").forEach(o=>{o.classList.remove("sline--active")}),gt()}function et(){de=!1,A==null||A.querySelectorAll(".sline--active").forEach(o=>{o.classList.remove("sline--active")}),gt()}function gt(){const o=document.getElementById("btn-story-play"),e=document.getElementById("btn-story-stop");o&&(o.style.display=""),e&&(e.style.display="none")}class Zr{constructor(){this._screen="screen-home",this._mode="blend",this._currentWord=null,this._els={}}init(){this._cacheElements(),this._bindEvents(),this._applySettings(),se.init(),G.init();const e=document.getElementById("spin-wheel");e&&xe.init(e);const t=document.getElementById("btn-mic");t&&!oe.supported&&t.classList.add("hidden"),this._applyTheme(p.get("theme")||"default"),console.log("[PhonicsQuest] App initialized")}_cacheElements(){this._els={screenHome:document.getElementById("screen-home"),screenGame:document.getElementById("screen-game"),screenResult:document.getElementById("screen-result"),wordDisplay:document.getElementById("word-display"),wordEmoji:document.getElementById("word-emoji"),phonemeRow:document.getElementById("phoneme-row"),modeInstruction:document.getElementById("mode-instruction"),modeArea:document.getElementById("mode-area"),btnCheck:document.getElementById("btn-check"),btnSayIt:document.getElementById("btn-say-it"),btnSkip:document.getElementById("btn-skip"),btnBack:document.getElementById("btn-back"),btnNext:document.getElementById("btn-next"),btnMic:document.getElementById("btn-mic"),resultBadge:document.getElementById("result-badge"),resultMessage:document.getElementById("result-message"),resultWord:document.getElementById("result-word-display"),resultXp:document.getElementById("result-xp"),resultMascot:document.getElementById("result-mascot"),speechBubble:document.getElementById("speech-bubble"),toastContainer:document.getElementById("toast-container")}}_bindEvents(){var e,t,r,s,a,n,l,d,h,v,b;document.querySelectorAll(".mode-card").forEach(y=>{y.addEventListener("click",()=>{this._mode=y.dataset.mode,p.set("currentMode",this._mode),this._startGame()})}),(e=document.getElementById("spin-btn"))==null||e.addEventListener("click",async()=>{const y=document.getElementById("spin-btn");if(!(!y||xe.isSpinning)){y.disabled=!0;try{const S=await xe.spin();p.set("currentGroup",S),T.playSfx("correct"),this._mode="blend",setTimeout(()=>this._startGame(S),500)}catch{}y.disabled=!1}}),(t=this._els.btnBack)==null||t.addEventListener("click",()=>{this._cleanupMode(),this._showScreen("screen-home"),G.setHomeState("holdCard")}),(r=document.getElementById("btn-stories"))==null||r.addEventListener("click",()=>{Nr(document.getElementById("stories-content")),Hr(),this._showScreen("screen-stories"),G.setState("celebrate")}),(s=document.getElementById("btn-stories-back"))==null||s.addEventListener("click",()=>{qr(),this._showScreen("screen-home"),G.setHomeState("holdCard")}),(a=this._els.btnNext)==null||a.addEventListener("click",()=>{this._nextWord()}),(n=this._els.btnSayIt)==null||n.addEventListener("click",()=>{this._currentWord&&T.speakWord(this._currentWord.word)}),(l=this._els.btnSkip)==null||l.addEventListener("click",()=>{this._cleanupMode(),this._nextWord()}),(d=this._els.btnMic)==null||d.addEventListener("click",()=>{this._handleSpeechRecognition()}),(h=document.getElementById("settings-btn"))==null||h.addEventListener("click",()=>{this._openModal("modal-settings")}),(v=document.getElementById("dashboard-btn"))==null||v.addEventListener("click",()=>{this._openModal("modal-pin"),setTimeout(()=>{var y;return(y=document.querySelector(".pin-digit"))==null?void 0:y.focus()},200)}),document.querySelectorAll(".modal-close").forEach(y=>{y.addEventListener("click",()=>{const S=y.dataset.close;S&&this._closeModal(S)})}),document.querySelectorAll(".modal-overlay").forEach(y=>{y.addEventListener("click",S=>{S.target===y&&this._closeModal(y.id)})}),this._bindSettings(),this._bindPinGate(),document.addEventListener("keydown",y=>this._handleKeyboard(y)),(b=document.getElementById("mascot-trigger"))==null||b.addEventListener("click",()=>{G.clap(),this._showToast(G.getCheer(),"success"),T.playSfx("pop")})}_startGame(e){const t={maxLevel:p.get("difficulty")||1};e&&(t.group=e),this._currentWord=ie.getNextWord(t),T.preloadWord(this._currentWord),this._showScreen("screen-game"),G.think();const r=Qe[this._mode];r&&r.setup(this._currentWord,{...this._els,onResult:(s,a)=>this._handleResult(s,a),onGroupChange:s=>{this._cleanupMode(),this._startGame(s||void 0)}})}_nextWord(){this._cleanupMode(),this._startGame(p.get("currentGroup"))}_handleResult(e,t){const r=this._currentWord;if(!r)return;const s=ie.isNewWord(r.id);if(ie.recordAttempt(r.id,e,this._mode),e){const a=se.recordCorrect(t,s);G.celebrate(a.levelUp),G.setResultState(a.levelUp?"trophy":"confetti"),a.levelUp?(pr(),T.playSfx("levelUp"),this._showToast(`Level ${a.newLevel}!`,"success")):(dr(),T.playSfx("correct")),a.dailyComplete&&(hr(),this._showToast("Daily goal complete!","success")),this._showResultScreen(!0,r,a)}else{const a=se.recordWrong();G.encourage(),G.setResultState("encourage"),T.playSfx("wrong"),this._showResultScreen(!1,r,null),a.gameOver&&(this._showToast("Hearts refilled! Take a break?","warning"),setTimeout(()=>se.refillHearts(),2e3))}}_showResultScreen(e,t,r){this._showScreen("screen-result"),e?(this._els.resultBadge.textContent="ğŸŒŸ",this._els.resultMessage.textContent=G.getCheer(),this._els.resultMessage.style.color="var(--color-success)",this._els.resultXp.textContent=r?`+${r.xpEarned} XP`:"+10 XP",this._els.resultXp.style.display=""):(this._els.resultBadge.textContent="ğŸ’ª",this._els.resultMessage.textContent=G.getEncouragement(),this._els.resultMessage.style.color="var(--color-error)",this._els.resultXp.style.display="none"),this._els.resultWord.textContent=t.emoji+" "+t.word,this._els.btnNext.focus()}_showScreen(e){document.querySelectorAll(".screen").forEach(t=>{t.id===e?(t.classList.remove("exit"),t.classList.add("active")):t.classList.contains("active")&&(t.classList.remove("active"),t.classList.add("exit"),setTimeout(()=>t.classList.remove("exit"),400))}),this._screen=e}_cleanupMode(){const e=Qe[this._mode];e==null||e.cleanup()}async _handleSpeechRecognition(){if(!this._currentWord||!oe.supported)return;const e=this._els.btnMic;if(!e)return;if(oe.isListening){oe.stop(),e.setAttribute("aria-pressed","false");return}e.setAttribute("aria-pressed","true");const t=await oe.listen(this._currentWord.word);if(e.setAttribute("aria-pressed","false"),!t){this._showSpeechBubble("I didn't hear anything. Try again!");return}t.correct?(this._showSpeechBubble(`I heard "${t.heard}" â€“ ${t.score}% match! Great job!`),setTimeout(()=>this._handleResult(!0,3e3),1200)):this._showSpeechBubble(`I heard "${t.heard}" â€“ ${t.score}% match. Try saying "${this._currentWord.word}" more clearly!`)}_showSpeechBubble(e){const t=this._els.speechBubble;t&&(t.textContent=e,t.hidden=!1,setTimeout(()=>{t.hidden=!0},4e3))}_bindSettings(){var e,t,r,s,a;document.querySelectorAll(".theme-swatch").forEach(n=>{n.addEventListener("click",()=>{const l=n.dataset.theme;this._applyTheme(l),p.set("theme",l),document.querySelectorAll(".theme-swatch").forEach(d=>{d.classList.toggle("active",d.dataset.theme===l),d.setAttribute("aria-pressed",d.dataset.theme===l)})})}),(e=document.getElementById("sfx-toggle"))==null||e.addEventListener("change",n=>{p.set("sfxEnabled",n.target.checked)}),(t=document.getElementById("autoplay-toggle"))==null||t.addEventListener("change",n=>{p.set("autoplay",n.target.checked)}),(r=document.getElementById("voice-speed"))==null||r.addEventListener("input",n=>{const l=parseFloat(n.target.value);p.set("voiceSpeed",l);const d=document.getElementById("voice-speed-display");d&&(d.textContent=`${l}Ã—`)}),document.querySelectorAll(".diff-btn").forEach(n=>{n.addEventListener("click",()=>{const l=parseInt(n.dataset.diff);p.set("difficulty",l),document.querySelectorAll(".diff-btn").forEach(d=>{d.classList.toggle("active",parseInt(d.dataset.diff)===l),d.setAttribute("aria-pressed",parseInt(d.dataset.diff)===l)})})}),(s=document.getElementById("goal-range"))==null||s.addEventListener("input",n=>{const l=parseInt(n.target.value);p.set("dailyGoal",l);const d=document.getElementById("goal-range-display");d&&(d.textContent=l),document.getElementById("goal-total").textContent=l}),(a=document.getElementById("reset-progress-btn"))==null||a.addEventListener("click",()=>{confirm("This will erase all progress. Are you sure?")&&(p.reset(),se.init(),this._showToast("Progress reset!","warning"),this._closeModal("modal-settings"))})}_applySettings(){const e=document.getElementById("sfx-toggle");e&&(e.checked=p.get("sfxEnabled"));const t=document.getElementById("autoplay-toggle");t&&(t.checked=p.get("autoplay"));const r=document.getElementById("voice-speed");r&&(r.value=p.get("voiceSpeed"));const s=document.getElementById("voice-speed-display");s&&(s.textContent=`${p.get("voiceSpeed")}Ã—`);const a=p.get("difficulty")||1;document.querySelectorAll(".diff-btn").forEach(h=>{h.classList.toggle("active",parseInt(h.dataset.diff)===a),h.setAttribute("aria-pressed",parseInt(h.dataset.diff)===a)});const n=p.get("dailyGoal")||10,l=document.getElementById("goal-range");l&&(l.value=n);const d=document.getElementById("goal-range-display");d&&(d.textContent=n)}_applyTheme(e){document.documentElement.setAttribute("data-theme",e)}_bindPinGate(){var r,s;const e=document.querySelectorAll(".pin-digit"),t=document.getElementById("pin-hint");e.forEach((a,n)=>{a.addEventListener("input",l=>{l.target.value&&n<e.length-1&&e[n+1].focus()}),a.addEventListener("keydown",l=>{l.key==="Backspace"&&!l.target.value&&n>0&&e[n-1].focus()})}),(r=document.getElementById("pin-confirm-btn"))==null||r.addEventListener("click",()=>{const a=Array.from(e).map(l=>l.value).join("");if(a.length<4){t&&(t.textContent="Enter all 4 digits");return}const n=p.get("parentPin");n?a===n?(t&&(t.textContent=""),this._closeModal("modal-pin"),this._openDashboard()):(t&&(t.textContent="Wrong PIN. Try again."),e.forEach(l=>{l.value=""}),e[0].focus()):(p.set("parentPin",a),t&&(t.textContent=""),this._closeModal("modal-pin"),this._openDashboard())}),(s=document.getElementById("pin-cancel-btn"))==null||s.addEventListener("click",()=>{this._closeModal("modal-pin"),document.querySelectorAll(".pin-digit").forEach(a=>{a.value=""})})}_openDashboard(){this._openModal("modal-dashboard");const e=document.getElementById("dashboard-content");e&&rr(e)}_openModal(e){const t=document.getElementById(e);if(!t)return;t.hidden=!1;const r=t.querySelectorAll("button, input, [tabindex]");r.length&&r[0].focus();const s=a=>{a.key==="Escape"&&(this._closeModal(e),document.removeEventListener("keydown",s))};document.addEventListener("keydown",s)}_closeModal(e){const t=document.getElementById(e);t&&(t.hidden=!0,e==="modal-dashboard"&&cr())}_showToast(e,t="info"){const r=this._els.toastContainer;if(!r)return;const s=document.createElement("div");s.className=`toast toast--${t}`,s.textContent=e,r.appendChild(s),setTimeout(()=>s.remove(),3200)}_handleKeyboard(e){var t,r,s,a;if(this._screen==="screen-game")switch(e.key){case" ":case"Enter":e.preventDefault(),(t=document.getElementById("btn-reveal-next"))==null||t.click();break;case"s":(r=this._els.btnSayIt)==null||r.click();break;case"Escape":(s=this._els.btnBack)==null||s.click();break;case"n":this._screen==="screen-result"&&((a=this._els.btnNext)==null||a.click());break}}}const Jr=new Zr,tt="/blending/";function Qr(){"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{const o=await navigator.serviceWorker.register(`${tt}sw.js`,{scope:tt});console.log("[PWA] Service worker registered:",o.scope),o.addEventListener("updatefound",()=>{const e=o.installing;e&&e.addEventListener("statechange",()=>{e.state==="activated"&&es("App updated! Refresh for the latest version.","info")})})}catch(o){console.warn("[PWA] Service worker registration failed:",o)}})}function es(o,e="info"){const t=document.getElementById("toast-container");if(!t)return;const r=document.createElement("div");r.className=`toast toast--${e}`,r.textContent=o,t.appendChild(r),setTimeout(()=>r.remove(),3500)}document.addEventListener("DOMContentLoaded",()=>{Jr.init(),Qr()});
