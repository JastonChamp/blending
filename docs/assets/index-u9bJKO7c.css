:root{--color-primary: #6c63ff;--color-primary-light: #ede9fe;--color-primary-dark: #4c46c8;--color-secondary: #ff6b8a;--color-success: #22c55e;--color-success-light: #dcfce7;--color-error: #ef4444;--color-error-light: #fee2e2;--color-warning: #f59e0b;--color-warning-light: #fef3c7;--color-info: #3b82f6;--c-consonant: #3b82f6;--c-short-vowel: #ef4444;--c-long-vowel: #22c55e;--c-digraph: #a855f7;--c-blend: #f97316;--c-silent-e: #94a3b8;--c-r-control: #ec4899;--c-diphthong: #0d9488;--c-suffix: #d97706;--bg: #f8f7ff;--surface: #ffffff;--surface-2: #f1f0fe;--border: #e5e3fa;--text: #1e1b4b;--text-muted: #6b7280;--text-on-dark: #ffffff;--font-main: "Nunito", system-ui, sans-serif;--font-size-xs: .75rem;--font-size-sm: .875rem;--font-size-base: 1rem;--font-size-md: 1.125rem;--font-size-lg: 1.25rem;--font-size-xl: 1.5rem;--font-size-2xl: 2rem;--font-size-3xl: 2.5rem;--font-size-4xl: 3.5rem;--space-1: .25rem;--space-2: .5rem;--space-3: .75rem;--space-4: 1rem;--space-5: 1.25rem;--space-6: 1.5rem;--space-8: 2rem;--space-10: 2.5rem;--space-12: 3rem;--radius-sm: 8px;--radius-md: 12px;--radius-lg: 16px;--radius-xl: 24px;--radius-full: 9999px;--shadow-sm: 0 2px 6px rgba(108,99,255,.08);--shadow-md: 0 4px 16px rgba(108,99,255,.14);--shadow-lg: 0 8px 32px rgba(108,99,255,.18);--shadow-xl: 0 16px 48px rgba(108,99,255,.22);--shadow-card: 0 4px 0 rgba(0,0,0,.12);--ease-bounce: cubic-bezier(.34, 1.56, .64, 1);--ease-out: cubic-bezier(.16, 1, .3, 1);--dur-fast: .15s;--dur-base: .25s;--dur-slow: .4s;--header-h: 60px;--level-bar-h: 8px}[data-theme=ocean]{--color-primary: #0ea5e9;--color-primary-light: #e0f2fe;--color-primary-dark: #0284c7;--bg: #f0f9ff;--surface-2: #e0f2fe;--border: #bae6fd;--text: #0c4a6e;--shadow-sm: 0 2px 6px rgba(14,165,233,.1);--shadow-md: 0 4px 16px rgba(14,165,233,.16);--shadow-lg: 0 8px 32px rgba(14,165,233,.2)}[data-theme=forest]{--color-primary: #22c55e;--color-primary-light: #dcfce7;--color-primary-dark: #16a34a;--bg: #f0fdf4;--surface-2: #dcfce7;--border: #bbf7d0;--text: #14532d;--shadow-sm: 0 2px 6px rgba(34,197,94,.1);--shadow-md: 0 4px 16px rgba(34,197,94,.16);--shadow-lg: 0 8px 32px rgba(34,197,94,.2)}[data-theme=sunset]{--color-primary: #f97316;--color-primary-light: #ffedd5;--color-primary-dark: #ea580c;--bg: #fff7ed;--surface-2: #ffedd5;--border: #fed7aa;--text: #7c2d12;--shadow-sm: 0 2px 6px rgba(249,115,22,.1);--shadow-md: 0 4px 16px rgba(249,115,22,.16);--shadow-lg: 0 8px 32px rgba(249,115,22,.2)}[data-theme=contrast]{--color-primary: #000000;--color-primary-light: #f5f5f5;--color-primary-dark: #000000;--bg: #ffffff;--surface: #ffffff;--surface-2: #f0f0f0;--border: #000000;--text: #000000;--text-muted: #333333;--c-consonant: #0000cc;--c-short-vowel: #cc0000;--c-long-vowel: #006600;--c-digraph: #660066;--c-blend: #994400;--c-diphthong: #0a6b62;--c-suffix: #92400e}@media (prefers-color-scheme: dark){:root:not([data-theme=contrast]){--bg: #0f0e1a;--surface: #1a1830;--surface-2: #252340;--border: #2d2b55;--text: #e8e6ff;--text-muted: #9896b8}}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{font-family:var(--font-main);font-size:16px;background:var(--bg);color:var(--text);-webkit-text-size-adjust:100%;scroll-behavior:smooth}body{min-height:100dvh;overflow-x:hidden;background:var(--bg)}img,svg{display:block;max-width:100%}button{font-family:inherit;cursor:pointer;border:none;background:none;color:inherit;-webkit-tap-highlight-color:transparent;touch-action:manipulation}input,select,textarea{font-family:inherit}:focus-visible{outline:3px solid var(--color-primary);outline-offset:3px;border-radius:var(--radius-sm)}.skip-link{position:fixed;top:-100px;left:16px;z-index:10000;padding:10px 20px;background:var(--color-primary);color:var(--text-on-dark);border-radius:var(--radius-md);font-weight:700;text-decoration:none;transition:top var(--dur-fast)}.skip-link:focus{top:16px}#app{display:flex;flex-direction:column;min-height:100dvh;max-width:480px;margin:0 auto;background:var(--surface);box-shadow:var(--shadow-xl);position:relative;overflow:hidden}.app-header{display:flex;align-items:center;justify-content:space-between;height:var(--header-h);padding:0 var(--space-4);background:var(--surface);border-bottom:1px solid var(--border);position:sticky;top:0;z-index:100;gap:var(--space-2)}.header-left{display:flex;align-items:center;gap:var(--space-2);flex-shrink:0}.mascot-btn{width:38px;height:38px;border-radius:var(--radius-full);display:flex;align-items:center;justify-content:center;background:var(--color-primary-light);flex-shrink:0;transition:transform var(--dur-fast) var(--ease-bounce)}.mascot-btn:hover{transform:scale(1.15) rotate(-5deg)}.mascot-btn:active{transform:scale(.92)}.mascot-mini{width:28px;height:28px}.mascot-mini svg{width:100%;height:100%}.app-brand{font-size:var(--font-size-md);font-weight:900;background:linear-gradient(135deg,var(--color-primary),var(--color-secondary));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;white-space:nowrap}.header-stats{display:flex;align-items:center;gap:var(--space-2);flex:1;justify-content:center}.stat-chip{display:flex;align-items:center;gap:3px;background:var(--surface-2);border:1px solid var(--border);border-radius:var(--radius-full);padding:4px 10px;font-size:var(--font-size-sm);font-weight:800}.stat-icon{font-size:14px;line-height:1}.stat-value{color:var(--text);min-width:18px;text-align:center}.header-actions{display:flex;align-items:center;gap:var(--space-1);flex-shrink:0}.icon-btn{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-md);color:var(--text-muted);transition:background var(--dur-fast),color var(--dur-fast),transform var(--dur-fast)}.icon-btn svg{width:20px;height:20px}.icon-btn:hover{background:var(--color-primary-light);color:var(--color-primary);transform:scale(1.05)}.icon-btn:active{transform:scale(.92)}.level-bar-wrapper{display:flex;align-items:center;gap:var(--space-2);padding:6px var(--space-4);background:var(--surface);border-bottom:1px solid var(--border)}.level-label{font-size:var(--font-size-xs);font-weight:700;color:var(--text-muted);white-space:nowrap;min-width:36px}.level-label:last-child{text-align:right}.level-bar{flex:1;height:8px;background:var(--surface-2);border-radius:var(--radius-full);overflow:hidden}.level-bar-fill{height:100%;background:linear-gradient(90deg,var(--color-primary),var(--color-secondary));border-radius:var(--radius-full);transition:width .6s var(--ease-out)}.main-content{flex:1;position:relative;overflow:hidden}.screen{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;flex-direction:column;align-items:center;padding:var(--space-6) var(--space-4) var(--space-8);overflow-y:auto;opacity:0;pointer-events:none;transform:translate(40px);transition:opacity var(--dur-slow) var(--ease-out),transform var(--dur-slow) var(--ease-out)}.screen.active{opacity:1;pointer-events:auto;transform:translate(0)}.screen.exit{opacity:0;transform:translate(-40px)}.home-hero{display:flex;justify-content:center;margin-bottom:var(--space-4)}.mascot-home{width:100px;height:100px;filter:drop-shadow(0 8px 16px rgba(108,99,255,.3));animation:bob 3s ease-in-out infinite}.mascot-home svg{width:100%;height:100%}.home-title{font-size:var(--font-size-2xl);font-weight:900;text-align:center;color:var(--text);margin-bottom:var(--space-1)}.home-subtitle{font-size:var(--font-size-lg);text-align:center;color:var(--text-muted);margin-bottom:var(--space-4)}.wheel-wrapper{position:relative;display:flex;align-items:center;justify-content:center;margin-bottom:var(--space-5);width:260px;height:260px;flex-shrink:0}#spin-wheel{border-radius:var(--radius-full);box-shadow:var(--shadow-lg);filter:drop-shadow(0 4px 8px rgba(108,99,255,.2))}.spin-btn{position:absolute;width:72px;height:72px;border-radius:var(--radius-full);background:var(--surface);border:4px solid var(--color-primary);font-size:var(--font-size-sm);font-weight:900;color:var(--color-primary);box-shadow:var(--shadow-md);transition:transform var(--dur-fast) var(--ease-bounce),box-shadow var(--dur-fast);z-index:1}.spin-btn:hover{transform:scale(1.1);box-shadow:var(--shadow-lg)}.spin-btn:active{transform:scale(.92)}.spin-btn:disabled{opacity:.6;cursor:not-allowed;transform:none}.mode-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space-3);width:100%;margin-bottom:var(--space-5)}.mode-grid .mode-card:nth-child(4){grid-column:1 / 2}.mode-grid .mode-card:nth-child(5){grid-column:2 / 3}.mode-grid .mode-card:nth-child(4),.mode-grid .mode-card:nth-child(5){grid-column:auto}.mode-grid{grid-template-columns:repeat(3,1fr)}.mode-card{display:flex;flex-direction:column;align-items:center;gap:var(--space-2);padding:var(--space-4) var(--space-2);background:var(--surface);border:2px solid var(--border);border-radius:var(--radius-lg);box-shadow:0 4px 0 var(--border);transition:transform var(--dur-fast) var(--ease-bounce),box-shadow var(--dur-fast),border-color var(--dur-fast),background var(--dur-fast);min-height:110px;cursor:pointer}.mode-card:hover{transform:translateY(-4px);box-shadow:0 8px 0 var(--color-primary-light),var(--shadow-md);border-color:var(--color-primary);background:var(--color-primary-light)}.mode-card:active{transform:translateY(0);box-shadow:0 2px 0 var(--border)}.mode-card:focus-visible{outline-color:var(--color-primary)}.mode-icon{font-size:2rem;line-height:1}.mode-name{font-size:var(--font-size-sm);font-weight:800;color:var(--text);text-align:center}.mode-desc{font-size:var(--font-size-xs);color:var(--text-muted);text-align:center}.daily-goal{display:flex;align-items:center;gap:var(--space-3);width:100%;padding:var(--space-3) var(--space-4);background:var(--surface-2);border-radius:var(--radius-lg);border:1px solid var(--border)}.goal-label{font-size:var(--font-size-sm);font-weight:700;color:var(--text-muted);white-space:nowrap;flex-shrink:0}.goal-track{flex:1;height:10px;background:var(--surface);border-radius:var(--radius-full);overflow:hidden}.goal-fill{height:100%;background:linear-gradient(90deg,var(--color-primary),var(--color-secondary));border-radius:var(--radius-full);transition:width .5s var(--ease-out)}.goal-count{font-size:var(--font-size-sm);font-weight:800;color:var(--text);white-space:nowrap;flex-shrink:0}.word-stage{width:100%;display:flex;flex-direction:column;align-items:center;gap:var(--space-4);margin-bottom:var(--space-5)}.word-image-wrap{display:flex;align-items:center;justify-content:center;width:120px;height:120px;background:var(--color-primary-light);border-radius:var(--radius-xl);box-shadow:var(--shadow-md);flex-shrink:0}.word-emoji{font-size:5rem;line-height:1;filter:drop-shadow(0 4px 8px rgba(0,0,0,.1));animation:bob 2.5s ease-in-out infinite;-webkit-user-select:none;user-select:none}.word-display{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;gap:var(--space-2);min-height:80px}.letter-tile{display:flex;align-items:center;justify-content:center;min-width:64px;height:72px;padding:0 var(--space-3);border-radius:var(--radius-md);font-size:var(--font-size-2xl);font-weight:900;color:var(--text-on-dark);box-shadow:0 4px #00000040;letter-spacing:0;position:relative;overflow:hidden;will-change:transform,opacity}.letter-tile:after{content:"";position:absolute;top:0;left:0;right:0;height:40%;background:#fff3;border-radius:var(--radius-sm) var(--radius-sm) 50% 50%}.letter-tile--consonant{background:var(--c-consonant)}.letter-tile--short-vowel{background:var(--c-short-vowel)}.letter-tile--long-vowel{background:var(--c-long-vowel)}.letter-tile--digraph{background:var(--c-digraph)}.letter-tile--blend{background:var(--c-blend)}.letter-tile--silent-e{background:var(--c-silent-e);font-size:var(--font-size-lg)}.letter-tile--r-control{background:var(--c-r-control)}.letter-tile--diphthong{background:var(--c-diphthong)}.letter-tile--suffix{background:var(--c-suffix);font-weight:900}.letter-tile--revealed{animation:pop .35s var(--ease-bounce)}.phoneme-row{display:flex;align-items:flex-start;justify-content:center;gap:var(--space-2);flex-wrap:wrap;width:100%}.phoneme-tile{display:flex;flex-direction:column;align-items:center;gap:2px;flex-shrink:0}.phoneme-symbol{font-size:var(--font-size-xl);font-weight:800;min-width:44px;text-align:center;padding:var(--space-2) var(--space-3);border-radius:var(--radius-md);color:var(--text-on-dark);box-shadow:0 3px #0003;cursor:default}.phoneme-symbol--consonant{background:var(--c-consonant)}.phoneme-symbol--short-vowel{background:var(--c-short-vowel)}.phoneme-symbol--long-vowel{background:var(--c-long-vowel)}.phoneme-symbol--digraph{background:var(--c-digraph)}.phoneme-symbol--blend{background:var(--c-blend)}.phoneme-symbol--silent-e{background:var(--c-silent-e)}.phoneme-symbol--r-control{background:var(--c-r-control)}.phoneme-symbol--diphthong{background:var(--c-diphthong)}.phoneme-symbol--suffix{background:var(--c-suffix);font-weight:900}.phoneme-tile.active .phoneme-symbol{transform:scale(1.2) translateY(-4px);box-shadow:0 6px 16px #0000004d;filter:brightness(1.15);transition:transform .15s ease,box-shadow .15s ease}.phoneme-diacritic{font-size:var(--font-size-xs);color:var(--text-muted);font-weight:600}.phoneme-label{font-size:var(--font-size-xs);font-weight:600;color:var(--text-muted);text-align:center}.mode-instruction{font-size:var(--font-size-md);font-weight:700;color:var(--text-muted);text-align:center;padding:var(--space-2) var(--space-4);background:var(--surface-2);border-radius:var(--radius-lg);border-left:4px solid var(--color-primary)}.mode-area{width:100%}.classic-blend-wrap{display:flex;flex-direction:column;align-items:center;gap:var(--space-4);width:100%}.classic-btn-row{display:flex;gap:var(--space-3);flex-wrap:wrap;justify-content:center}.classic-assess-row{display:flex;gap:var(--space-4);flex-wrap:wrap;justify-content:center}.category-row{display:flex;align-items:center;gap:var(--space-2);background:var(--color-surface);border:2px solid var(--color-border);border-radius:var(--radius-lg);padding:var(--space-2) var(--space-4)}.category-label{font-weight:700;font-size:var(--font-size-sm);color:var(--color-text-muted);white-space:nowrap}.category-select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:none;font-size:var(--font-size-base);font-weight:700;color:var(--color-primary);cursor:pointer;padding-right:var(--space-5);background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%238b5cf6' stroke-width='2' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 0 center}.category-select:focus{outline:2px solid var(--color-primary);border-radius:4px}.choice-grid{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-3);width:100%}.choice-btn{display:flex;align-items:center;justify-content:center;min-height:72px;padding:var(--space-3) var(--space-4);background:var(--surface);border:2px solid var(--border);border-radius:var(--radius-lg);box-shadow:0 4px 0 var(--border);font-size:var(--font-size-xl);font-weight:900;color:var(--text);transition:transform var(--dur-fast) var(--ease-bounce),box-shadow var(--dur-fast),border-color var(--dur-fast),background var(--dur-fast);cursor:pointer}.choice-btn:hover{transform:translateY(-3px);border-color:var(--color-primary);background:var(--color-primary-light);box-shadow:0 7px 0 var(--color-primary-light)}.choice-btn:active{transform:translateY(0);box-shadow:0 2px 0 var(--border)}.choice-btn.correct{border-color:var(--color-success);background:var(--color-success-light);box-shadow:0 4px 0 var(--color-success);animation:pulse-correct .5s var(--ease-bounce)}.choice-btn.wrong{border-color:var(--color-error);background:var(--color-error-light);animation:shake .4s ease}.segment-word{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;gap:var(--space-2);width:100%;margin-bottom:var(--space-4)}.segment-btn{display:flex;align-items:center;justify-content:center;padding:var(--space-3) var(--space-4);background:var(--surface);border:2px solid var(--border);border-radius:var(--radius-md);font-size:var(--font-size-2xl);font-weight:900;color:var(--text);box-shadow:0 3px 0 var(--border);transition:all var(--dur-fast) var(--ease-bounce);cursor:pointer;min-width:56px}.segment-btn:hover{transform:translateY(-2px) scale(1.05);border-color:var(--color-primary)}.segment-btn.selected{background:var(--color-primary);border-color:var(--color-primary-dark);color:var(--text-on-dark);transform:translateY(-4px);box-shadow:0 7px 0 var(--color-primary-dark)}.segment-btn.matched{background:var(--color-success);border-color:var(--color-success);color:var(--text-on-dark)}.segment-targets{display:flex;align-items:center;justify-content:center;gap:var(--space-2);flex-wrap:wrap;width:100%}.segment-slot{display:flex;align-items:center;justify-content:center;min-width:64px;height:56px;border:2px dashed var(--border);border-radius:var(--radius-md);font-size:var(--font-size-xl);font-weight:800;color:var(--text-muted);background:var(--surface-2);transition:all var(--dur-base)}.segment-slot.filled{border-style:solid;border-color:var(--color-primary);background:var(--color-primary-light);color:var(--color-primary)}.action-bar{display:flex;align-items:center;gap:var(--space-3);width:100%;margin-top:var(--space-4)}.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-2);padding:var(--space-3) var(--space-5);border-radius:var(--radius-lg);font-size:var(--font-size-base);font-weight:800;font-family:var(--font-main);cursor:pointer;border:none;transition:transform var(--dur-fast) var(--ease-bounce),box-shadow var(--dur-fast),filter var(--dur-fast);white-space:nowrap;-webkit-tap-highlight-color:transparent;touch-action:manipulation}.btn:active{transform:scale(.94)}.btn:disabled{opacity:.5;cursor:not-allowed;transform:none!important}.btn--primary{background:var(--color-primary);color:var(--text-on-dark);box-shadow:0 4px 0 var(--color-primary-dark)}.btn--primary:hover{filter:brightness(1.08);transform:translateY(-2px);box-shadow:0 6px 0 var(--color-primary-dark)}.btn--primary:active{transform:translateY(0);box-shadow:0 2px 0 var(--color-primary-dark)}.btn--ghost{background:var(--surface);color:var(--text-muted);border:2px solid var(--border);box-shadow:0 3px 0 var(--border)}.btn--ghost:hover{border-color:var(--color-primary);color:var(--color-primary);background:var(--color-primary-light)}.btn--success{background:var(--color-success);color:var(--text-on-dark);box-shadow:0 4px #16a34a}.btn--danger{background:var(--color-error);color:var(--text-on-dark);box-shadow:0 4px #b91c1c}.btn--danger:hover{filter:brightness(1.08)}.btn--sm{padding:var(--space-2) var(--space-4);font-size:var(--font-size-sm)}.btn--xl{padding:var(--space-5) var(--space-8);font-size:var(--font-size-xl);border-radius:var(--radius-xl);box-shadow:0 6px 0 var(--color-primary-dark)}.btn--xl:hover{transform:translateY(-3px);box-shadow:0 9px 0 var(--color-primary-dark)}.mic-btn{position:fixed;bottom:24px;right:max(24px,calc(50% - 216px));width:64px;height:64px;border-radius:var(--radius-full);background:var(--color-secondary);color:var(--text-on-dark);box-shadow:0 4px 16px #ff6b8a66;display:flex;align-items:center;justify-content:center;transition:transform var(--dur-fast) var(--ease-bounce),box-shadow var(--dur-fast),background var(--dur-fast);z-index:50}.mic-btn svg{width:28px;height:28px}.mic-btn:hover{transform:scale(1.12);box-shadow:0 6px 24px #ff6b8a80}.mic-btn:active{transform:scale(.92)}.mic-btn[aria-pressed=true]{background:var(--color-error);animation:pulse-ring 1.5s ease-out infinite}.mic-btn.hidden{display:none}.speech-bubble{position:fixed;bottom:100px;right:max(16px,calc(50% - 224px));max-width:200px;background:var(--surface);border:2px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-3) var(--space-4);font-size:var(--font-size-sm);font-weight:700;box-shadow:var(--shadow-md);z-index:50}.speech-bubble:after{content:"";position:absolute;bottom:-10px;right:24px;width:0;height:0;border:8px solid transparent;border-top-color:var(--border)}.back-btn{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-2) var(--space-3);color:var(--text-muted);font-size:var(--font-size-sm);font-weight:700;border-radius:var(--radius-md);position:absolute;top:var(--space-3);left:var(--space-4);transition:color var(--dur-fast),background var(--dur-fast)}.back-btn:hover{color:var(--color-primary);background:var(--color-primary-light)}#screen-result{justify-content:center;text-align:center;gap:var(--space-5);padding-top:var(--space-10)}.result-mascot{width:140px;height:140px;margin:0 auto;animation:tada .8s var(--ease-bounce)}.result-mascot svg{width:100%;height:100%}.result-badge{font-size:3rem;line-height:1;animation:pop .5s var(--ease-bounce) .2s both}.result-message{font-size:var(--font-size-2xl);font-weight:900;color:var(--text)}.result-word-display{font-size:var(--font-size-3xl);font-weight:900;color:var(--color-primary);letter-spacing:.05em}.result-xp{font-size:var(--font-size-xl);font-weight:800;color:var(--color-warning);animation:pop .5s var(--ease-bounce) .4s both}.mascot-float{position:fixed;bottom:-10px;left:max(10px,calc(50% - 230px));width:80px;height:80px;z-index:200;pointer-events:none;transition:transform .6s var(--ease-bounce)}.mascot-float.peek{transform:translateY(-60px)}.mascot-float.celebrate{transform:translateY(-80px) rotate(15deg)}.mascot-float.sad{transform:translateY(-40px) rotate(-10deg)}.mascot-float svg{width:100%;height:100%}.toast-container{position:fixed;top:80px;right:max(16px,calc(50% - 224px));z-index:5000;display:flex;flex-direction:column;gap:var(--space-2);pointer-events:none}.toast{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-3) var(--space-4);background:var(--surface);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);border-left:4px solid var(--color-primary);font-size:var(--font-size-sm);font-weight:700;max-width:220px;pointer-events:auto;animation:slide-in-right .3s var(--ease-bounce),fade-out .3s var(--ease-out) 2.7s forwards}.toast--success{border-color:var(--color-success)}.toast--error{border-color:var(--color-error)}.toast--warning{border-color:var(--color-warning)}.modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#00000080;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);z-index:1000;display:flex!important;align-items:flex-end;justify-content:center;padding:0;opacity:1;transition:opacity var(--dur-slow)}.modal-overlay[hidden]{display:none!important}.modal-panel{background:var(--surface);border-radius:var(--radius-xl) var(--radius-xl) 0 0;width:100%;max-width:480px;max-height:85dvh;overflow-y:auto;box-shadow:var(--shadow-xl);animation:slide-up .35s var(--ease-bounce)}.modal-panel--wide{max-height:90dvh}.modal-panel--sm{max-height:70dvh}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:var(--space-5) var(--space-6);border-bottom:1px solid var(--border);position:sticky;top:0;background:var(--surface);z-index:1}.modal-title{font-size:var(--font-size-xl);font-weight:900;color:var(--text)}.modal-close{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-md);color:var(--text-muted);transition:background var(--dur-fast),color var(--dur-fast),transform var(--dur-fast)}.modal-close svg{width:20px;height:20px}.modal-close:hover{background:var(--color-error-light);color:var(--color-error);transform:rotate(90deg)}.modal-body{padding:var(--space-5) var(--space-6) var(--space-8);display:flex;flex-direction:column;gap:var(--space-5)}.settings-group{display:flex;flex-direction:column;gap:var(--space-3)}.settings-label{font-size:var(--font-size-sm);font-weight:800;color:var(--text-muted);text-transform:uppercase;letter-spacing:.06em}.theme-swatches{display:flex;gap:var(--space-3);flex-wrap:wrap}.theme-swatch{width:48px;height:48px;border-radius:var(--radius-full);border:3px solid transparent;display:flex;align-items:center;justify-content:center;transition:border-color var(--dur-fast),transform var(--dur-fast) var(--ease-bounce)}.theme-swatch:hover{transform:scale(1.1)}.theme-swatch.active,.theme-swatch[aria-pressed=true]{border-color:var(--color-primary)}.swatch-dot{width:36px;height:36px;border-radius:var(--radius-full);display:block;box-shadow:var(--shadow-sm)}.toggle-row{display:flex;align-items:center;justify-content:space-between;padding:var(--space-3) 0;font-size:var(--font-size-base);font-weight:600;cursor:pointer}.toggle-wrap{position:relative;flex-shrink:0}.toggle-wrap input[type=checkbox]{position:absolute;opacity:0;width:0;height:0}.toggle-track{display:block;width:48px;height:28px;background:var(--border);border-radius:var(--radius-full);position:relative;transition:background var(--dur-base);cursor:pointer}.toggle-track:after{content:"";position:absolute;top:3px;left:3px;width:22px;height:22px;background:#fff;border-radius:var(--radius-full);transition:transform var(--dur-base) var(--ease-bounce);box-shadow:var(--shadow-sm)}.toggle-wrap input:checked~.toggle-track{background:var(--color-primary)}.toggle-wrap input:checked~.toggle-track:after{transform:translate(20px)}.slider-row{display:flex;align-items:center;gap:var(--space-3)}.slider-row label{font-size:var(--font-size-sm);font-weight:600;flex-shrink:0}.slider-row input[type=range]{flex:1;-webkit-appearance:none;height:6px;border-radius:var(--radius-full);background:var(--border);outline:none;cursor:pointer}.slider-row input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:22px;height:22px;border-radius:var(--radius-full);background:var(--color-primary);cursor:pointer;box-shadow:var(--shadow-sm);transition:transform var(--dur-fast) var(--ease-bounce)}.slider-row input[type=range]::-webkit-slider-thumb:hover{transform:scale(1.2)}.slider-row span{font-size:var(--font-size-sm);font-weight:700;min-width:36px;text-align:right}.diff-group{display:flex;gap:var(--space-2)}.diff-btn{flex:1;padding:var(--space-3);border:2px solid var(--border);border-radius:var(--radius-md);font-size:var(--font-size-sm);font-weight:700;font-family:var(--font-main);background:var(--surface);color:var(--text-muted);transition:all var(--dur-fast);cursor:pointer}.diff-btn:hover{border-color:var(--color-primary);color:var(--color-primary);background:var(--color-primary-light)}.diff-btn.active,.diff-btn[aria-pressed=true]{background:var(--color-primary);border-color:var(--color-primary-dark);color:var(--text-on-dark);box-shadow:0 3px 0 var(--color-primary-dark)}.pin-body{align-items:center;text-align:center}.pin-inputs{display:flex;gap:var(--space-3);justify-content:center;margin:var(--space-4) 0}.pin-digit{width:56px;height:64px;border:2px solid var(--border);border-radius:var(--radius-md);text-align:center;font-size:var(--font-size-2xl);font-weight:900;font-family:var(--font-main);background:var(--surface-2);color:var(--text);transition:border-color var(--dur-fast)}.pin-digit:focus{border-color:var(--color-primary);outline:none}.pin-hint{font-size:var(--font-size-sm);color:var(--color-error);min-height:20px}.pin-setup-hint{font-size:var(--font-size-xs);color:var(--text-muted);margin-top:var(--space-3)}.dash-stats-grid{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-3);margin-bottom:var(--space-5)}.dash-stat-card{background:var(--surface-2);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-4);text-align:center}.dash-stat-value{font-size:var(--font-size-2xl);font-weight:900;color:var(--color-primary);display:block}.dash-stat-label{font-size:var(--font-size-xs);font-weight:600;color:var(--text-muted);margin-top:var(--space-1)}.dash-chart-wrap{position:relative;height:200px;margin-bottom:var(--space-5)}.dash-section-title{font-size:var(--font-size-base);font-weight:800;color:var(--text);margin-bottom:var(--space-3);display:flex;align-items:center;gap:var(--space-2)}.mastery-bar-list{display:flex;flex-direction:column;gap:var(--space-2)}.mastery-bar-item{display:flex;align-items:center;gap:var(--space-3)}.mastery-bar-label{font-size:var(--font-size-sm);font-weight:600;min-width:80px;color:var(--text)}.mastery-bar-track{flex:1;height:10px;background:var(--surface-2);border-radius:var(--radius-full);overflow:hidden}.mastery-bar-fill{height:100%;border-radius:var(--radius-full);background:linear-gradient(90deg,var(--color-primary),var(--color-success));transition:width .8s var(--ease-out)}.mastery-bar-pct{font-size:var(--font-size-xs);font-weight:700;min-width:32px;text-align:right;color:var(--text-muted)}.word-history-table{width:100%;border-collapse:collapse;font-size:var(--font-size-sm)}.word-history-table th,.word-history-table td{padding:var(--space-2) var(--space-3);text-align:left;border-bottom:1px solid var(--border)}.word-history-table th{font-weight:800;color:var(--text-muted);font-size:var(--font-size-xs)}.dash-actions{display:flex;gap:var(--space-3);flex-wrap:wrap;justify-content:center;padding-top:var(--space-4)}@keyframes bob{0%,to{transform:translateY(0)}50%{transform:translateY(-8px)}}@keyframes pop{0%{transform:scale(.5) rotate(-5deg);opacity:0}70%{transform:scale(1.15) rotate(3deg)}to{transform:scale(1) rotate(0);opacity:1}}@keyframes tada{0%{transform:scale(.8) rotate(-5deg);opacity:0}20%{transform:scale(1.15) rotate(5deg)}40%{transform:scale(1) rotate(-3deg)}60%{transform:scale(1.08) rotate(2deg)}80%{transform:scale(.98) rotate(-1deg)}to{transform:scale(1) rotate(0);opacity:1}}@keyframes shake{0%,to{transform:translate(0)}20%{transform:translate(-8px)}40%{transform:translate(8px)}60%{transform:translate(-6px)}80%{transform:translate(6px)}}@keyframes pulse-correct{0%{transform:scale(1)}50%{transform:scale(1.08)}to{transform:scale(1)}}@keyframes pulse-ring{0%{box-shadow:0 0 #ef444466}70%{box-shadow:0 0 0 20px #ef444400}to{box-shadow:0 0 #ef444400}}@keyframes slide-in-right{0%{transform:translate(120%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes slide-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}@keyframes fade-out{0%{opacity:1}to{opacity:0}}@keyframes xp-float{0%{transform:translateY(0);opacity:1}to{transform:translateY(-60px);opacity:0}}@keyframes spin-slow{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (prefers-reduced-motion: reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}.mascot-home,.word-emoji{animation:none}}@media (max-width: 360px){.mode-grid{grid-template-columns:1fr 1fr}.header-stats .stat-chip:last-child{display:none}.choice-grid{grid-template-columns:1fr}.letter-tile{min-width:52px;height:60px;font-size:var(--font-size-xl)}}@media (min-height: 700px){.word-image-wrap{width:140px;height:140px}.word-emoji{font-size:6rem}}.visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.xp-float-label{position:fixed;font-size:var(--font-size-xl);font-weight:900;color:var(--color-warning);pointer-events:none;z-index:1000;text-shadow:0 2px 8px rgba(0,0,0,.15);animation:xp-float 1.2s var(--ease-out) forwards}.highlight-anim{animation:pop .4s var(--ease-bounce)}.stories-banner{display:flex;align-items:center;gap:var(--space-3);width:100%;max-width:420px;margin:var(--space-4) auto 0;padding:var(--space-3) var(--space-4);background:linear-gradient(135deg,#f3e8ff,#fce7f3);border:2px solid #d8b4fe;border-radius:var(--radius-xl);cursor:pointer;text-align:left;transition:transform var(--dur-fast) var(--ease-bounce),box-shadow var(--dur-fast) var(--ease-out)}.stories-banner:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}.stories-banner:active{transform:scale(.97)}.stories-banner-mascot{flex-shrink:0}.stories-banner-mascot img{display:block}.stories-banner-text{flex:1;display:flex;flex-direction:column;gap:2px}.stories-banner-title{font-size:var(--font-size-base);font-weight:800;color:#7c3aed}.stories-banner-sub{font-size:var(--font-size-sm);color:#6b7280}.stories-banner-arrow{font-size:var(--font-size-xl);color:#a855f7;font-weight:700}.stories-screen-header{display:flex;align-items:center;gap:var(--space-3);width:100%;max-width:480px;padding-bottom:var(--space-3);flex-shrink:0}.stories-screen-title{flex:1;font-size:var(--font-size-xl);font-weight:800;text-align:center;color:var(--color-text)}.stories-screen-mascot img{display:block}.stories-content{flex:1;width:100%;max-width:480px;overflow-y:auto}.stories-browser{width:100%}.stories-tabs{display:flex;gap:var(--space-2);margin-bottom:var(--space-3);overflow-x:auto;padding-bottom:2px;scrollbar-width:none}.stories-tabs::-webkit-scrollbar{display:none}.story-tab{display:flex;flex-direction:column;align-items:center;padding:var(--space-2) var(--space-3);border:2px solid transparent;border-radius:var(--radius-lg);background:var(--color-surface);cursor:pointer;flex-shrink:0;transition:all var(--dur-fast) var(--ease-out);gap:2px}.story-tab:hover{border-color:var(--tab-color);background:color-mix(in srgb,var(--tab-color) 10%,transparent)}.story-tab.active{border-color:var(--tab-color);background:color-mix(in srgb,var(--tab-color) 15%,transparent);box-shadow:0 2px 8px color-mix(in srgb,var(--tab-color) 30%,transparent)}.story-tab-num{font-size:var(--font-size-xs);font-weight:800;color:var(--tab-color)}.story-tab-name{font-size:var(--font-size-xs);color:var(--color-text-muted);white-space:nowrap}.story-tab.active .story-tab-name{color:var(--color-text)}.stories-level-strip{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-2) var(--space-3);border-radius:var(--radius-lg);background:var(--level-bg);margin-bottom:var(--space-3);flex-wrap:wrap}.slstrip-label{font-size:var(--font-size-xs);font-weight:800;color:var(--level-color);text-transform:uppercase;letter-spacing:.06em}.slstrip-name{font-size:var(--font-size-sm);font-weight:700;color:var(--color-text)}.slstrip-sounds{font-size:var(--font-size-xs);color:var(--color-text-muted);flex:1}.slstrip-prop{font-size:var(--font-size-sm);font-weight:700;color:var(--level-color)}.story-cards-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--space-3)}.story-card{display:flex;flex-direction:column;align-items:center;gap:var(--space-2);padding:0 0 var(--space-3);background:var(--color-surface);border-radius:var(--radius-xl);border:2px solid var(--color-border);cursor:pointer;overflow:hidden;text-align:center;transition:transform var(--dur-fast) var(--ease-bounce),box-shadow var(--dur-fast) var(--ease-out),border-color var(--dur-fast)}.story-card:hover{transform:translateY(-3px);box-shadow:var(--shadow-lg);border-color:var(--color-primary)}.story-card:active{transform:scale(.97)}.story-card-illo{width:100%;aspect-ratio:1;display:flex;align-items:flex-end;justify-content:center;position:relative;overflow:hidden;border-radius:var(--radius-lg) var(--radius-lg) 0 0}.story-card-mascot{width:76%;height:76%;object-fit:contain;z-index:1;filter:drop-shadow(0 4px 8px rgba(0,0,0,.12));margin-bottom:-4px}.story-card-prop{position:absolute;top:var(--space-2);right:var(--space-2);font-size:1.6rem;line-height:1;filter:drop-shadow(0 2px 4px rgba(0,0,0,.15))}.story-card-title{font-size:var(--font-size-sm);font-weight:800;color:var(--color-text);padding:0 var(--space-2);line-height:1.3}.story-card-level{font-size:var(--font-size-xs);font-weight:700}.story-reader{width:100%;display:flex;flex-direction:column;gap:var(--space-4)}.story-illo{width:100%;min-height:180px;background:var(--level-bg);border-radius:var(--radius-xl);display:flex;align-items:flex-end;justify-content:center;position:relative;overflow:hidden;border:2px solid color-mix(in srgb,var(--level-color) 25%,transparent)}.story-illo-mascot{width:150px;height:150px;object-fit:contain;z-index:2;filter:drop-shadow(0 8px 16px rgba(0,0,0,.12));animation:bob 3s ease-in-out infinite}.story-illo-prop{position:absolute;top:var(--space-3);right:var(--space-4);font-size:3rem;line-height:1;filter:drop-shadow(0 4px 8px rgba(0,0,0,.12));animation:bob 4s ease-in-out infinite reverse}.story-illo-steam{position:absolute;bottom:50%;left:50%;transform:translate(-50%);display:flex;gap:10px}.story-illo-steam span{display:block;width:6px;height:28px;border-radius:99px;background:color-mix(in srgb,var(--level-color) 35%,white);opacity:.6;animation:steam-rise 2s ease-in-out infinite}.story-illo-steam span:nth-child(2){animation-delay:.4s}.story-illo-steam span:nth-child(3){animation-delay:.8s}@keyframes steam-rise{0%{transform:scaleY(1) translateY(0);opacity:.6}50%{transform:scaleY(1.3) translateY(-8px);opacity:.3}to{transform:scaleY(1) translateY(0);opacity:.6}}.story-meta-bar{display:flex;align-items:center;gap:var(--space-3)}.story-lib-btn{font-size:var(--font-size-sm);font-weight:700;color:var(--level-color);border-color:var(--level-color);flex-shrink:0}.story-meta-badge{font-size:var(--font-size-xs);font-weight:700;color:var(--color-text-muted);background:var(--color-surface);padding:2px var(--space-2);border-radius:var(--radius-full);border:1px solid var(--color-border)}.story-reader-title{font-size:var(--font-size-2xl);font-weight:900;color:var(--color-text);line-height:1.2}.story-body{display:flex;flex-direction:column;gap:var(--space-2)}.sline{border-radius:var(--radius-lg);padding:var(--space-2) var(--space-3);transition:background var(--dur-fast),box-shadow var(--dur-fast);line-height:1.65}.sline--intro{font-size:var(--font-size-lg);font-weight:600;color:var(--color-text);background:var(--color-surface);border:1px solid var(--color-border)}.sline--label{font-size:var(--font-size-xs);font-weight:900;text-transform:uppercase;letter-spacing:.08em;color:var(--color-primary);background:transparent;padding-left:0;padding-top:var(--space-3);padding-bottom:0}.sline--beat{font-size:var(--font-size-lg);font-weight:600;color:var(--color-text);background:var(--color-surface);border:1px solid var(--color-border);margin-top:var(--space-1)}.sline--refrain{font-size:var(--font-size-xl);font-weight:800;color:#7c3aed;background:linear-gradient(135deg,#f3e8ff,#fce7f3);border:2px solid #d8b4fe;text-align:center;letter-spacing:.02em}.sline--end{font-size:var(--font-size-lg);font-weight:800;color:var(--color-success);background:color-mix(in srgb,var(--color-success) 10%,transparent);border:2px solid color-mix(in srgb,var(--color-success) 30%,transparent);text-align:center}.sline--active{background:color-mix(in srgb,var(--color-primary) 15%,transparent)!important;border-color:var(--color-primary)!important;box-shadow:0 0 0 3px color-mix(in srgb,var(--color-primary) 25%,transparent);transform:scale(1.01)}.sline--label.sline--active{color:var(--color-primary);background:transparent!important;box-shadow:none;transform:none}.story-tts-bar{display:flex;gap:var(--space-3);justify-content:center;padding:var(--space-4) 0 var(--space-6)}.mode-section-label{grid-column:1 / -1;font-size:var(--font-size-xs);font-weight:800;text-transform:uppercase;letter-spacing:.08em;color:var(--color-text-muted);margin:var(--space-2) 0 var(--space-1)}.mode-card--highlight{border-color:var(--color-primary);background:color-mix(in srgb,var(--color-primary) 6%,var(--color-surface))}.stories-banner--green{background:linear-gradient(135deg,#dcfce7,#d1fae5);border-color:#86efac}.stories-banner--green .stories-banner-title{color:#15803d}.stories-banner--green .stories-banner-arrow{color:#22c55e}.blend-guided-wrap{display:flex;flex-direction:column;align-items:center;gap:var(--space-4);width:100%}.step-dots{display:flex;gap:var(--space-2);justify-content:center}.step-dot{width:14px;height:14px;border-radius:var(--radius-full);background:var(--color-border);border:2px solid transparent;transition:background var(--dur-fast),transform var(--dur-fast) var(--ease-bounce)}.step-dot.filled{background:var(--color-primary);transform:scale(1.15)}.step-dot.current{border-color:var(--color-primary);background:color-mix(in srgb,var(--color-primary) 20%,transparent);animation:pulse 1.2s ease-in-out infinite}.blend-tip,.blend-blend-cta,.blend-assess-prompt{font-size:var(--font-size-lg);font-weight:700;color:var(--color-text);text-align:center}.blend-blend-cta{color:var(--color-success);font-size:var(--font-size-xl)}.blend-next-btn{min-width:180px}.blend-assess-btns{display:flex;gap:var(--space-4)}.speed-row{display:flex;align-items:center;gap:var(--space-2);width:100%;justify-content:center}.speed-label{font-size:var(--font-size-sm);font-weight:700;color:var(--color-text-muted)}.speed-btns{display:flex;gap:var(--space-1)}.speed-btn{padding:var(--space-1) var(--space-3);border-radius:var(--radius-full);border:2px solid var(--color-border);background:var(--color-surface);font-size:var(--font-size-sm);font-weight:700;cursor:pointer;transition:all var(--dur-fast) var(--ease-out);color:var(--color-text-muted)}.speed-btn:hover{border-color:var(--color-primary);color:var(--color-primary)}.speed-btn--active{border-color:var(--color-primary);background:color-mix(in srgb,var(--color-primary) 15%,transparent);color:var(--color-primary)}.story-mode-toggle{display:flex;gap:var(--space-2);padding:var(--space-1);background:var(--color-surface);border:1.5px solid var(--color-border);border-radius:var(--radius-full);width:fit-content;margin:0 auto}.smode-btn{padding:var(--space-2) var(--space-4);border-radius:var(--radius-full);border:none;background:transparent;font-size:var(--font-size-sm);font-weight:700;color:var(--color-text-muted);cursor:pointer;transition:all var(--dur-fast) var(--ease-out)}.smode-btn:hover{color:var(--color-primary)}.smode-btn.active{background:var(--color-primary);color:#fff;box-shadow:0 2px 8px #6c63ff59}.story-dynamic{width:100%;display:flex;flex-direction:column;gap:var(--space-3)}.decode-word{display:inline;background:none;border:none;border-bottom:2px dotted var(--color-border);border-radius:2px;cursor:pointer;font-size:inherit;font-weight:inherit;color:inherit;line-height:inherit;padding:1px 2px;transition:background var(--dur-fast),border-color var(--dur-fast)}.decode-word:hover,.decode-word:focus-visible{background:color-mix(in srgb,var(--color-primary) 12%,transparent);border-bottom-color:var(--color-primary);border-bottom-style:solid;outline:none;border-radius:4px}.decode-word.decoding{background:color-mix(in srgb,var(--color-primary) 18%,transparent);border-bottom:2px solid var(--color-primary);border-radius:4px;font-weight:800}.decode-word.decode-hfw{border-bottom-color:#f59e0b;color:#b45309}.decode-word.decode-hfw:hover,.decode-word.decode-hfw.decoding{background:color-mix(in srgb,#f59e0b 15%,transparent);border-bottom-color:#f59e0b;border-bottom-style:solid;color:#92400e}.decode-punct{font-size:inherit;color:inherit}.decode-body .sline{line-height:2}.hfw-preteach{background:linear-gradient(135deg,#fef9c3,#fef3c7);border:2px solid #fcd34d;border-radius:var(--radius-xl);padding:var(--space-3) var(--space-4)}.hfw-preteach-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--space-2)}.hfw-preteach-title{font-size:var(--font-size-sm);font-weight:800;color:#92400e}.hfw-toggle-btn{font-size:var(--font-size-xs);font-weight:700;color:#b45309;background:none;border:1px solid #fcd34d;border-radius:var(--radius-full);padding:2px var(--space-2);cursor:pointer}.hfw-chip-list{display:flex;flex-wrap:wrap;gap:var(--space-2);align-items:center}.hfw-chip{display:inline-flex;align-items:center;gap:4px;padding:var(--space-1) var(--space-3);background:#fff;border:2px solid #fcd34d;border-radius:var(--radius-full);font-size:var(--font-size-base);font-weight:800;color:#92400e;cursor:pointer;transition:all var(--dur-fast) var(--ease-bounce)}.hfw-chip:hover{transform:scale(1.05);background:#fef3c7}.hfw-chip:active{transform:scale(.96)}.hfw-chip--flash{background:#fcd34d;transform:scale(1.1)}.hfw-none{font-size:var(--font-size-sm);color:#059669;font-weight:700}.hfw-tip{width:100%;font-size:var(--font-size-xs);color:#b45309;margin-top:var(--space-2)}.decode-panel{position:sticky;bottom:0;left:0;right:0;background:var(--color-bg);border-top:2px solid var(--color-border);border-radius:var(--radius-xl) var(--radius-xl) 0 0;padding:var(--space-3) var(--space-4);box-shadow:0 -4px 24px #0000001a;animation:slideUp .22s var(--ease-out)}@keyframes slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.decode-panel-inner{display:flex;justify-content:center}.dp-hfw,.dp-tts{display:flex;align-items:center;gap:var(--space-3);flex-wrap:wrap;justify-content:center}.dp-sight-badge{font-size:var(--font-size-sm);font-weight:800;color:#b45309;background:#fef3c7;border:1.5px solid #fcd34d;padding:2px var(--space-2);border-radius:var(--radius-full)}.dp-decode{display:flex;flex-direction:column;align-items:center;gap:var(--space-2)}.dp-tiles{display:flex;gap:var(--space-2);justify-content:center}.dp-tile{display:inline-flex;align-items:center;justify-content:center;min-width:44px;height:44px;border-radius:var(--radius-lg);background:color-mix(in srgb,var(--tile-color) 15%,transparent);border:2.5px solid var(--tile-color);font-size:var(--font-size-xl);font-weight:800;color:var(--tile-color);transition:transform var(--dur-fast) var(--ease-bounce),background var(--dur-fast)}.dp-tile--active{background:var(--tile-color);color:#fff;transform:scale(1.2) translateY(-4px);box-shadow:0 4px 12px color-mix(in srgb,var(--tile-color) 40%,transparent)}.dp-word{font-size:var(--font-size-2xl);font-weight:900;color:var(--color-text)}.dp-word--blend{color:var(--color-primary);animation:pop .4s var(--ease-bounce)}.dp-hear-btn{font-size:var(--font-size-sm);font-weight:700;color:var(--color-primary);background:color-mix(in srgb,var(--color-primary) 10%,transparent);border:1.5px solid var(--color-primary);border-radius:var(--radius-full);padding:var(--space-1) var(--space-3);cursor:pointer;transition:all var(--dur-fast) var(--ease-out)}.dp-hear-btn:hover{background:color-mix(in srgb,var(--color-primary) 18%,transparent)}.ls-browser{width:100%}.ls-intro{margin-bottom:var(--space-3)}.ls-intro-text{font-size:var(--font-size-sm);color:var(--color-text-muted);text-align:center}.ls-tabs{display:flex;flex-wrap:wrap;gap:var(--space-1);margin-bottom:var(--space-3)}.ls-tab{padding:var(--space-1) var(--space-3);border-radius:var(--radius-full);border:2px solid transparent;background:var(--color-surface);font-size:var(--font-size-xs);font-weight:700;cursor:pointer;color:var(--color-text-muted);transition:all var(--dur-fast) var(--ease-out)}.ls-tab:hover{border-color:var(--tab-color);color:var(--tab-color)}.ls-tab.active{border-color:var(--tab-color);background:color-mix(in srgb,var(--tab-color) 15%,transparent);color:var(--tab-color)}.ls-count{font-size:var(--font-size-xs);color:var(--color-text-muted);text-align:right;margin-bottom:var(--space-2)}.ls-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(90px,1fr));gap:var(--space-2);padding-bottom:var(--space-6)}.ls-card{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;padding:var(--space-3) var(--space-2);background:var(--card-bg);border:2.5px solid color-mix(in srgb,var(--card-color) 30%,transparent);border-radius:var(--radius-xl);cursor:pointer;text-align:center;transition:transform var(--dur-fast) var(--ease-bounce),box-shadow var(--dur-fast);position:relative}.ls-card:hover{transform:translateY(-3px);box-shadow:var(--shadow-lg)}.ls-card:active{transform:scale(.95)}.ls-card.ls-playing{border-color:var(--card-color);background:color-mix(in srgb,var(--card-color) 20%,transparent);box-shadow:0 0 0 3px color-mix(in srgb,var(--card-color) 30%,transparent)}.ls-grapheme{font-size:var(--font-size-2xl);font-weight:900;color:var(--card-color);line-height:1}.ls-ex-emoji{font-size:1.4rem;line-height:1}.ls-ex-word{font-size:var(--font-size-xs);font-weight:700;color:var(--color-text-muted)}.ls-type-tag{position:absolute;top:3px;right:4px;font-size:9px;font-weight:800;text-transform:uppercase;letter-spacing:.04em;color:var(--card-color);opacity:.7}
